<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Another set of solutions and notes to ‘R for Data Science’</title>
  <meta name="description" content="My notes and solutions to ‘R for Data Science’ by Garrett Grolemund and Hadley Wickham">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Another set of solutions and notes to ‘R for Data Science’" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="My notes and solutions to ‘R for Data Science’ by Garrett Grolemund and Hadley Wickham" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Another set of solutions and notes to ‘R for Data Science’" />
  
  <meta name="twitter:description" content="My notes and solutions to ‘R for Data Science’ by Garrett Grolemund and Hadley Wickham" />
  

<meta name="author" content="Bryan Shalloway">


<meta name="date" content="2019-05-28">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="appendix-1.html">
<link rel="next" href="appendix-2.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.8.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.39.2/plotly-latest.min.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.3.1/str_view.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Purpose of this book</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#features-of-this-book"><i class="fa fa-check"></i><b>1.1</b> Features of this book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#origin-of-this-book"><i class="fa fa-check"></i><b>1.2</b> Origin of this book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="plug-for-r4ds.html"><a href="plug-for-r4ds.html"><i class="fa fa-check"></i><b>2</b> Plug for R4DS</a><ul>
<li class="chapter" data-level="2.1" data-path="plug-for-r4ds.html"><a href="plug-for-r4ds.html#plug-for-r4ds-1"><i class="fa fa-check"></i><b>2.1</b> Plug for R4DS</a></li>
<li class="chapter" data-level="2.2" data-path="plug-for-r4ds.html"><a href="plug-for-r4ds.html#acknowledgements"><i class="fa fa-check"></i><b>2.2</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html"><i class="fa fa-check"></i><b>3</b> ch 3: Data visualization</a><ul>
<li class="chapter" data-level="3.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#first-steps"><i class="fa fa-check"></i><b>3.1</b> 3.2: First steps</a><ul>
<li class="chapter" data-level="3.1.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section"><i class="fa fa-check"></i><b>3.1.1</b> 3.2.4</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#aesthetic-mappings"><i class="fa fa-check"></i><b>3.2</b> 3.3: Aesthetic mappings</a><ul>
<li class="chapter" data-level="3.2.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-1"><i class="fa fa-check"></i><b>3.2.1</b> 3.3.1.</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#facets"><i class="fa fa-check"></i><b>3.3</b> 3.5: Facets</a><ul>
<li class="chapter" data-level="3.3.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-2"><i class="fa fa-check"></i><b>3.3.1</b> 3.5.1.</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#geometric-objects"><i class="fa fa-check"></i><b>3.4</b> 3.6: Geometric Objects</a><ul>
<li class="chapter" data-level="3.4.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-3"><i class="fa fa-check"></i><b>3.4.1</b> 3.6.1</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#statistical-transformations"><i class="fa fa-check"></i><b>3.5</b> 3.7: statistical transformations</a><ul>
<li class="chapter" data-level="3.5.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-4"><i class="fa fa-check"></i><b>3.5.1</b> 3.7.1.</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#position-adjjustment"><i class="fa fa-check"></i><b>3.6</b> 3.8: Position Adjjustment</a><ul>
<li class="chapter" data-level="3.6.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-5"><i class="fa fa-check"></i><b>3.6.1</b> 3.8.1.</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#coordinate-systems"><i class="fa fa-check"></i><b>3.7</b> 3.9: Coordinate systems</a><ul>
<li class="chapter" data-level="3.7.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-6"><i class="fa fa-check"></i><b>3.7.1</b> 3.9.1.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>4</b> Appendix</a><ul>
<li class="chapter" data-level="4.1" data-path="appendix.html"><a href="appendix.html#extension"><i class="fa fa-check"></i><b>4.1</b> 3.7.1.1 extension</a></li>
<li class="chapter" data-level="4.2" data-path="appendix.html"><a href="appendix.html#position-adustments"><i class="fa fa-check"></i><b>4.2</b> 3.8: Position adustments</a></li>
<li class="chapter" data-level="4.3" data-path="appendix.html"><a href="appendix.html#coordinate-systems-1"><i class="fa fa-check"></i><b>4.3</b> 3.9: Coordinate systems</a></li>
<li class="chapter" data-level="4.4" data-path="appendix.html"><a href="appendix.html#add-in-table-of-contents-and-other-details"><i class="fa fa-check"></i><b>4.4</b> add in table of contents and other details…</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html"><i class="fa fa-check"></i><b>5</b> ch. 5 Data transformations</a><ul>
<li class="chapter" data-level="5.1" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#filter-rows"><i class="fa fa-check"></i><b>5.1</b> 5.2: Filter rows</a></li>
<li class="chapter" data-level="5.2" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#section-7"><i class="fa fa-check"></i><b>5.2</b> 5.2.4.</a><ul>
<li class="chapter" data-level="5.2.1" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#section-8"><i class="fa fa-check"></i><b>5.2.1</b> 5.3.1.</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#grouped-summaries"><i class="fa fa-check"></i><b>5.3</b> 5.6: Grouped summaries</a><ul>
<li class="chapter" data-level="5.3.1" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#section-9"><i class="fa fa-check"></i><b>5.3.1</b> 5.6.7.</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#grouped-mutates-and-filters"><i class="fa fa-check"></i><b>5.4</b> Grouped mutates (and filters)</a><ul>
<li class="chapter" data-level="5.4.1" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#section-10"><i class="fa fa-check"></i><b>5.4.1</b> 5.7.1.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="appendix-1.html"><a href="appendix-1.html"><i class="fa fa-check"></i><b>6</b> Appendix</a><ul>
<li class="chapter" data-level="6.1" data-path="appendix-1.html"><a href="appendix-1.html#section-11"><i class="fa fa-check"></i><b>6.1</b> 5.4.1.3.</a></li>
<li class="chapter" data-level="6.2" data-path="appendix-1.html"><a href="appendix-1.html#section-12"><i class="fa fa-check"></i><b>6.2</b> 5.5.2.1.</a></li>
<li class="chapter" data-level="6.3" data-path="appendix-1.html"><a href="appendix-1.html#section-13"><i class="fa fa-check"></i><b>6.3</b> 5.5.2.2</a><ul>
<li class="chapter" data-level="6.3.1" data-path="appendix-1.html"><a href="appendix-1.html#closer-look-at-air_time"><i class="fa fa-check"></i><b>6.3.1</b> Closer look at <code>air_time</code></a></li>
<li class="chapter" data-level="6.3.2" data-path="appendix-1.html"><a href="appendix-1.html#other-plots-with-air_time"><i class="fa fa-check"></i><b>6.3.2</b> Other plots with <code>air_time</code></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="appendix-1.html"><a href="appendix-1.html#section-14"><i class="fa fa-check"></i><b>6.4</b> 5.6.7.1.</a></li>
<li class="chapter" data-level="6.5" data-path="appendix-1.html"><a href="appendix-1.html#section-15"><i class="fa fa-check"></i><b>6.5</b> 5.6.7.4.</a></li>
<li class="chapter" data-level="6.6" data-path="appendix-1.html"><a href="appendix-1.html#section-16"><i class="fa fa-check"></i><b>6.6</b> 5.6.7.5.</a><ul>
<li class="chapter" data-level="6.6.1" data-path="appendix-1.html"><a href="appendix-1.html#modeling-approach"><i class="fa fa-check"></i><b>6.6.1</b> Modeling approach</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="appendix-1.html"><a href="appendix-1.html#section-17"><i class="fa fa-check"></i><b>6.7</b> 5.6.7.6.</a></li>
<li class="chapter" data-level="6.8" data-path="appendix-1.html"><a href="appendix-1.html#section-18"><i class="fa fa-check"></i><b>6.8</b> 5.7.1.6.</a></li>
<li class="chapter" data-level="6.9" data-path="appendix-1.html"><a href="appendix-1.html#section-19"><i class="fa fa-check"></i><b>6.9</b> 5.7.1.5</a></li>
<li class="chapter" data-level="6.10" data-path="appendix-1.html"><a href="appendix-1.html#section-20"><i class="fa fa-check"></i><b>6.10</b> 5.7.1.8.</a></li>
<li class="chapter" data-level="6.11" data-path="appendix-1.html"><a href="appendix-1.html#other"><i class="fa fa-check"></i><b>6.11</b> Other</a><ul>
<li class="chapter" data-level="6.11.1" data-path="appendix-1.html"><a href="appendix-1.html#on-piping-dots"><i class="fa fa-check"></i><b>6.11.1</b> On piping dots</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="appendix-1.html"><a href="appendix-1.html#plotly"><i class="fa fa-check"></i><b>6.12</b> plotly</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html"><i class="fa fa-check"></i><b>7</b> ch. 7: Data exploration</a><ul>
<li class="chapter" data-level="7.1" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#variation"><i class="fa fa-check"></i><b>7.1</b> 7.3. Variation</a><ul>
<li class="chapter" data-level="7.1.1" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#section-21"><i class="fa fa-check"></i><b>7.1.1</b> 7.3.4.</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#missing-values"><i class="fa fa-check"></i><b>7.2</b> 7.4. Missing values</a><ul>
<li class="chapter" data-level="7.2.1" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#section-22"><i class="fa fa-check"></i><b>7.2.1</b> 7.4.1.</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#covariation"><i class="fa fa-check"></i><b>7.3</b> 7.5. Covariation</a><ul>
<li class="chapter" data-level="7.3.1" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#section-23"><i class="fa fa-check"></i><b>7.3.1</b> 7.5.1.1.</a></li>
<li class="chapter" data-level="7.3.2" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#section-24"><i class="fa fa-check"></i><b>7.3.2</b> 7.5.2.1.</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#two-continuous-variables"><i class="fa fa-check"></i><b>7.4</b> 7.5.3 Two continuous variables</a><ul>
<li class="chapter" data-level="7.4.1" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#section-25"><i class="fa fa-check"></i><b>7.4.1</b> 7.5.3.1.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="appendix-2.html"><a href="appendix-2.html"><i class="fa fa-check"></i><b>8</b> Appendix</a><ul>
<li class="chapter" data-level="8.1" data-path="appendix-2.html"><a href="appendix-2.html#section-26"><i class="fa fa-check"></i><b>8.1</b> 7.5.2.1.2.</a></li>
<li class="chapter" data-level="8.2" data-path="appendix-2.html"><a href="appendix-2.html#section-27"><i class="fa fa-check"></i><b>8.2</b> 7.5.3.1.4.</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ch-10-tibbles.html"><a href="ch-10-tibbles.html"><i class="fa fa-check"></i><b>9</b> ch. 10: Tibbles</a><ul>
<li class="chapter" data-level="9.1" data-path="ch-10-tibbles.html"><a href="ch-10-tibbles.html#section-28"><i class="fa fa-check"></i><b>9.1</b> 10.5</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="ch-11-data-import.html"><a href="ch-11-data-import.html"><i class="fa fa-check"></i><b>10</b> ch. 11: Data import</a><ul>
<li class="chapter" data-level="10.1" data-path="ch-11-data-import.html"><a href="ch-11-data-import.html#section-29"><i class="fa fa-check"></i><b>10.1</b> 11.2.2.</a></li>
<li class="chapter" data-level="10.2" data-path="ch-11-data-import.html"><a href="ch-11-data-import.html#section-30"><i class="fa fa-check"></i><b>10.2</b> 11.3.5.</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html"><i class="fa fa-check"></i><b>11</b> ch. 12: Tidy data</a><ul>
<li class="chapter" data-level="11.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#tidy-data"><i class="fa fa-check"></i><b>11.1</b> 12.2: Tidy data</a><ul>
<li class="chapter" data-level="11.1.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#section-31"><i class="fa fa-check"></i><b>11.1.1</b> 12.2.1.</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#spreading-and-gathering"><i class="fa fa-check"></i><b>11.2</b> 12.3: Spreading and gathering</a><ul>
<li class="chapter" data-level="11.2.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#section-32"><i class="fa fa-check"></i><b>11.2.1</b> 12.3.3.</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#separating-and-uniting"><i class="fa fa-check"></i><b>11.3</b> 12.4: Separating and uniting</a><ul>
<li class="chapter" data-level="11.3.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#section-33"><i class="fa fa-check"></i><b>11.3.1</b> 12.4.3.</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#missing-values-1"><i class="fa fa-check"></i><b>11.4</b> 12.5: missing values</a><ul>
<li class="chapter" data-level="11.4.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#section-34"><i class="fa fa-check"></i><b>11.4.1</b> 12.5.1.</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#case-study"><i class="fa fa-check"></i><b>11.5</b> 12.6 Case Study</a><ul>
<li class="chapter" data-level="11.5.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#section-35"><i class="fa fa-check"></i><b>11.5.1</b> 12.6.1.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html"><i class="fa fa-check"></i><b>12</b> ch. 13: Relational data</a><ul>
<li class="chapter" data-level="12.1" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#nycflights13"><i class="fa fa-check"></i><b>12.1</b> 13.2 nycflights13</a><ul>
<li class="chapter" data-level="12.1.1" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#section-36"><i class="fa fa-check"></i><b>12.1.1</b> 13.2.1</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#keys"><i class="fa fa-check"></i><b>12.2</b> 13.3 Keys</a><ul>
<li class="chapter" data-level="12.2.1" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#section-37"><i class="fa fa-check"></i><b>12.2.1</b> 13.3.1</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>12.3</b> 13.4 Mutating joins</a><ul>
<li class="chapter" data-level="12.3.1" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#section-38"><i class="fa fa-check"></i><b>12.3.1</b> 13.4.6</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>12.4</b> 13.5 Filtering joins</a><ul>
<li class="chapter" data-level="12.4.1" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#section-39"><i class="fa fa-check"></i><b>12.4.1</b> 13.5.1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="ch-14-strings.html"><a href="ch-14-strings.html"><i class="fa fa-check"></i><b>13</b> ch. 14: Strings</a><ul>
<li class="chapter" data-level="13.1" data-path="ch-14-strings.html"><a href="ch-14-strings.html#string-basics"><i class="fa fa-check"></i><b>13.1</b> 14.2: String basics</a><ul>
<li class="chapter" data-level="13.1.1" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-40"><i class="fa fa-check"></i><b>13.1.1</b> 14.2.5</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="ch-14-strings.html"><a href="ch-14-strings.html#matching-patterns-w-regex"><i class="fa fa-check"></i><b>13.2</b> 14.3: Matching patterns w/ regex</a><ul>
<li class="chapter" data-level="13.2.1" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-41"><i class="fa fa-check"></i><b>13.2.1</b> 14.3.1.1</a></li>
<li class="chapter" data-level="13.2.2" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-42"><i class="fa fa-check"></i><b>13.2.2</b> 14.3.2.1</a></li>
<li class="chapter" data-level="13.2.3" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-43"><i class="fa fa-check"></i><b>13.2.3</b> 14.3.3.1</a></li>
<li class="chapter" data-level="13.2.4" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-44"><i class="fa fa-check"></i><b>13.2.4</b> 14.3.4.1</a></li>
<li class="chapter" data-level="13.2.5" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-45"><i class="fa fa-check"></i><b>13.2.5</b> 14.3.5.1</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="ch-14-strings.html"><a href="ch-14-strings.html#tools"><i class="fa fa-check"></i><b>13.3</b> 14.4 Tools</a><ul>
<li class="chapter" data-level="13.3.1" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-46"><i class="fa fa-check"></i><b>13.3.1</b> 14.4.2</a></li>
<li class="chapter" data-level="13.3.2" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-47"><i class="fa fa-check"></i><b>13.3.2</b> 14.4.3.1</a></li>
<li class="chapter" data-level="13.3.3" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-48"><i class="fa fa-check"></i><b>13.3.3</b> 14.4.4.1</a></li>
<li class="chapter" data-level="13.3.4" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-49"><i class="fa fa-check"></i><b>13.3.4</b> 14.4.5.1</a></li>
<li class="chapter" data-level="13.3.5" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-50"><i class="fa fa-check"></i><b>13.3.5</b> 14.4.6.1</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="ch-14-strings.html"><a href="ch-14-strings.html#other-types-of-patterns"><i class="fa fa-check"></i><b>13.4</b> 14.5: Other types of patterns</a><ul>
<li class="chapter" data-level="13.4.1" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-51"><i class="fa fa-check"></i><b>13.4.1</b> 14.5.1</a></li>
<li class="chapter" data-level="13.4.2" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-52"><i class="fa fa-check"></i><b>13.4.2</b> 14.7.1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ch-15-factors.html"><a href="ch-15-factors.html"><i class="fa fa-check"></i><b>14</b> ch. 15: Factors</a><ul>
<li class="chapter" data-level="14.1" data-path="ch-15-factors.html"><a href="ch-15-factors.html#modifying-factor-order"><i class="fa fa-check"></i><b>14.1</b> 15.4: Modifying factor order</a><ul>
<li class="chapter" data-level="14.1.1" data-path="ch-15-factors.html"><a href="ch-15-factors.html#section-53"><i class="fa fa-check"></i><b>14.1.1</b> 15.3.1</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="ch-15-factors.html"><a href="ch-15-factors.html#modifying-factor-order-1"><i class="fa fa-check"></i><b>14.2</b> 15.4: Modifying factor order</a><ul>
<li class="chapter" data-level="14.2.1" data-path="ch-15-factors.html"><a href="ch-15-factors.html#section-54"><i class="fa fa-check"></i><b>14.2.1</b> 15.4.1</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="ch-15-factors.html"><a href="ch-15-factors.html#modifying-factor-levels"><i class="fa fa-check"></i><b>14.3</b> 15.5: Modifying factor levels</a><ul>
<li class="chapter" data-level="14.3.1" data-path="ch-15-factors.html"><a href="ch-15-factors.html#section-55"><i class="fa fa-check"></i><b>14.3.1</b> 15.5.1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="appendix-3.html"><a href="appendix-3.html"><i class="fa fa-check"></i><b>15</b> Appendix</a><ul>
<li class="chapter" data-level="15.1" data-path="appendix-3.html"><a href="appendix-3.html#viewing-all-levels"><i class="fa fa-check"></i><b>15.1</b> Viewing all levels</a></li>
<li class="chapter" data-level="15.2" data-path="appendix-3.html"><a href="appendix-3.html#percentage-na-each-level"><i class="fa fa-check"></i><b>15.2</b> Percentage NA each level</a></li>
<li class="chapter" data-level="15.3" data-path="appendix-3.html"><a href="appendix-3.html#print-all-levels-of-tibble"><i class="fa fa-check"></i><b>15.3</b> Print all levels of tibble</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html"><i class="fa fa-check"></i><b>16</b> ch. 16: Dates and times</a><ul>
<li class="chapter" data-level="16.1" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#creating-datetimes"><i class="fa fa-check"></i><b>16.1</b> 16.2: Creating date/times</a><ul>
<li class="chapter" data-level="16.1.1" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#section-56"><i class="fa fa-check"></i><b>16.1.1</b> 16.2.4</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#date-time-components"><i class="fa fa-check"></i><b>16.2</b> 16.3: Date-time components</a><ul>
<li class="chapter" data-level="16.2.1" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#section-57"><i class="fa fa-check"></i><b>16.2.1</b> 16.3.4</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#time-spans"><i class="fa fa-check"></i><b>16.3</b> 16.4: Time spans</a><ul>
<li class="chapter" data-level="16.3.1" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#section-58"><i class="fa fa-check"></i><b>16.3.1</b> 16.4.5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="appendix-4.html"><a href="appendix-4.html"><i class="fa fa-check"></i><b>17</b> Appendix</a><ul>
<li class="chapter" data-level="17.1" data-path="appendix-4.html"><a href="appendix-4.html#section-59"><i class="fa fa-check"></i><b>17.1</b> 16.3.4.1</a></li>
<li class="chapter" data-level="17.2" data-path="appendix-4.html"><a href="appendix-4.html#section-60"><i class="fa fa-check"></i><b>17.2</b> 16.3.4.3</a></li>
<li class="chapter" data-level="17.3" data-path="appendix-4.html"><a href="appendix-4.html#section-61"><i class="fa fa-check"></i><b>17.3</b> 16.3.4.4</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="ch-18-pipes-notes-only.html"><a href="ch-18-pipes-notes-only.html"><i class="fa fa-check"></i><b>18</b> ch. 18: Pipes (notes only)</a></li>
<li class="chapter" data-level="19" data-path="ch-19-functions.html"><a href="ch-19-functions.html"><i class="fa fa-check"></i><b>19</b> ch. 19: Functions</a><ul>
<li class="chapter" data-level="19.1" data-path="ch-19-functions.html"><a href="ch-19-functions.html#when-should-you-write-a-function"><i class="fa fa-check"></i><b>19.1</b> 19.2: When should you write a function?</a><ul>
<li class="chapter" data-level="19.1.1" data-path="ch-19-functions.html"><a href="ch-19-functions.html#section-62"><i class="fa fa-check"></i><b>19.1.1</b> 19.2.1</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="ch-19-functions.html"><a href="ch-19-functions.html#functions-are-for-humans-and-computers"><i class="fa fa-check"></i><b>19.2</b> 19.3: Functions are for humans and computers</a><ul>
<li class="chapter" data-level="19.2.1" data-path="ch-19-functions.html"><a href="ch-19-functions.html#section-63"><i class="fa fa-check"></i><b>19.2.1</b> 19.3.1</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="ch-19-functions.html"><a href="ch-19-functions.html#conditional-execution"><i class="fa fa-check"></i><b>19.3</b> 19.4: Conditional execution</a><ul>
<li class="chapter" data-level="19.3.1" data-path="ch-19-functions.html"><a href="ch-19-functions.html#section-64"><i class="fa fa-check"></i><b>19.3.1</b> 19.4.4</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="ch-19-functions.html"><a href="ch-19-functions.html#function-arguments"><i class="fa fa-check"></i><b>19.4</b> 19.5: Function arguments</a><ul>
<li class="chapter" data-level="19.4.1" data-path="ch-19-functions.html"><a href="ch-19-functions.html#section-65"><i class="fa fa-check"></i><b>19.4.1</b> 19.5.5</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="ch-19-functions.html"><a href="ch-19-functions.html#return-values"><i class="fa fa-check"></i><b>19.5</b> 19.6: Return values</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="appendix-5.html"><a href="appendix-5.html"><i class="fa fa-check"></i><b>20</b> Appendix</a><ul>
<li class="chapter" data-level="20.1" data-path="appendix-5.html"><a href="appendix-5.html#section-66"><i class="fa fa-check"></i><b>20.1</b> 19.2.1.4</a></li>
<li class="chapter" data-level="20.2" data-path="appendix-5.html"><a href="appendix-5.html#changing-values-with-indexes"><i class="fa fa-check"></i><b>20.2</b> Changing values with indexes</a><ul>
<li class="chapter" data-level="20.2.1" data-path="appendix-5.html"><a href="appendix-5.html#applying-indexing-to-dfs"><i class="fa fa-check"></i><b>20.2.1</b> Applying indexing to dfs</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="appendix-5.html"><a href="appendix-5.html#better-than-ifelse"><i class="fa fa-check"></i><b>20.3</b> Better than <code>ifelse()</code>?</a></li>
<li class="chapter" data-level="20.4" data-path="appendix-5.html"><a href="appendix-5.html#dplyr-and-functions"><i class="fa fa-check"></i><b>20.4</b> Dplyr and functions</a></li>
<li class="chapter" data-level="20.5" data-path="appendix-5.html"><a href="appendix-5.html#section-67"><i class="fa fa-check"></i><b>20.5</b> 19.2.3.5</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html"><i class="fa fa-check"></i><b>21</b> ch. 20: Vectors</a><ul>
<li class="chapter" data-level="21.0.1" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#section-68"><i class="fa fa-check"></i><b>21.0.1</b> 20.3.5</a></li>
<li class="chapter" data-level="21.1" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#using-atomic-vectors"><i class="fa fa-check"></i><b>21.1</b> 20.4: Using atomic vectors</a><ul>
<li class="chapter" data-level="21.1.1" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#section-69"><i class="fa fa-check"></i><b>21.1.1</b> 20.4.6</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#recursive-vectors-lists"><i class="fa fa-check"></i><b>21.2</b> 20.5: Recursive vectors (lists)</a><ul>
<li class="chapter" data-level="21.2.1" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#section-70"><i class="fa fa-check"></i><b>21.2.1</b> 20.5.4</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>21.3</b> 20.7: Augmented vectors</a><ul>
<li class="chapter" data-level="21.3.1" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#section-71"><i class="fa fa-check"></i><b>21.3.1</b> 20.7.4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="appendix-6.html"><a href="appendix-6.html"><i class="fa fa-check"></i><b>22</b> Appendix</a><ul>
<li class="chapter" data-level="22.1" data-path="appendix-6.html"><a href="appendix-6.html#subsetting-nested-lists"><i class="fa fa-check"></i><b>22.1</b> subsetting nested lists</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html"><i class="fa fa-check"></i><b>23</b> ch. 21: Iteration</a><ul>
<li class="chapter" data-level="23.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#for-loops"><i class="fa fa-check"></i><b>23.1</b> 21.2: For loops</a><ul>
<li class="chapter" data-level="23.1.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#section-72"><i class="fa fa-check"></i><b>23.1.1</b> 21.2.1</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#for-loop-variations"><i class="fa fa-check"></i><b>23.2</b> 21.3 For loop variations</a><ul>
<li class="chapter" data-level="23.2.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#section-73"><i class="fa fa-check"></i><b>23.2.1</b> 21.3.5</a></li>
</ul></li>
<li class="chapter" data-level="23.3" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#for-loops-vs.-functionals"><i class="fa fa-check"></i><b>23.3</b> 21.4: For loops vs. functionals</a><ul>
<li class="chapter" data-level="23.3.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#section-74"><i class="fa fa-check"></i><b>23.3.1</b> 21.4.1</a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#the-map-functions"><i class="fa fa-check"></i><b>23.4</b> 21.5: The map functions</a><ul>
<li class="chapter" data-level="23.4.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#section-75"><i class="fa fa-check"></i><b>23.4.1</b> 21.5.3</a></li>
</ul></li>
<li class="chapter" data-level="23.5" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i><b>23.5</b> 21.9 Other patterns of for loops</a><ul>
<li class="chapter" data-level="23.5.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#section-76"><i class="fa fa-check"></i><b>23.5.1</b> 21.9.3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="appendix-7.html"><a href="appendix-7.html"><i class="fa fa-check"></i><b>24</b> Appendix</a><ul>
<li class="chapter" data-level="24.1" data-path="appendix-7.html"><a href="appendix-7.html#section-77"><i class="fa fa-check"></i><b>24.1</b> 21.3.5.1</a><ul>
<li class="chapter" data-level="24.1.1" data-path="appendix-7.html"><a href="appendix-7.html#using-map"><i class="fa fa-check"></i><b>24.1.1</b> Using map</a></li>
<li class="chapter" data-level="24.1.2" data-path="appendix-7.html"><a href="appendix-7.html#plot-of-names"><i class="fa fa-check"></i><b>24.1.2</b> Plot of names</a></li>
<li class="chapter" data-level="24.1.3" data-path="appendix-7.html"><a href="appendix-7.html#csv-other-example"><i class="fa fa-check"></i><b>24.1.3</b> csv other example</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="appendix-7.html"><a href="appendix-7.html#with-purrr"><i class="fa fa-check"></i><b>24.2</b> 21.3.5.2 with purrr</a></li>
<li class="chapter" data-level="24.3" data-path="appendix-7.html"><a href="appendix-7.html#mirroring-keep"><i class="fa fa-check"></i><b>24.3</b> 21.9 mirroring keep</a></li>
<li class="chapter" data-level="24.4" data-path="appendix-7.html"><a href="appendix-7.html#invoke-examples"><i class="fa fa-check"></i><b>24.4</b> invoke examples</a></li>
<li class="chapter" data-level="24.5" data-path="appendix-7.html"><a href="appendix-7.html#indexing-nms-caution"><i class="fa fa-check"></i><b>24.5</b> indexing nms caution</a></li>
<li class="chapter" data-level="24.6" data-path="appendix-7.html"><a href="appendix-7.html#in-class-notes"><i class="fa fa-check"></i><b>24.6</b> in class notes</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html"><i class="fa fa-check"></i><b>25</b> ch. 23: Model basics</a><ul>
<li class="chapter" data-level="25.1" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#a-simple-model"><i class="fa fa-check"></i><b>25.1</b> 23.2: A simple model</a><ul>
<li class="chapter" data-level="25.1.1" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#section-78"><i class="fa fa-check"></i><b>25.1.1</b> 23.2.1</a></li>
</ul></li>
<li class="chapter" data-level="25.2" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#visualising-models"><i class="fa fa-check"></i><b>25.2</b> 23.3: Visualising models</a><ul>
<li class="chapter" data-level="25.2.1" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#section-79"><i class="fa fa-check"></i><b>25.2.1</b> 23.3.3</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#formulas-and-model-families"><i class="fa fa-check"></i><b>25.3</b> 23.4: Formulas and model families</a><ul>
<li class="chapter" data-level="25.3.1" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#section-80"><i class="fa fa-check"></i><b>25.3.1</b> 23.4.5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="appendix-8.html"><a href="appendix-8.html"><i class="fa fa-check"></i><b>26</b> Appendix</a><ul>
<li class="chapter" data-level="26.1" data-path="appendix-8.html"><a href="appendix-8.html#other-model-families"><i class="fa fa-check"></i><b>26.1</b> Other model families</a></li>
<li class="chapter" data-level="26.2" data-path="appendix-8.html"><a href="appendix-8.html#book-example"><i class="fa fa-check"></i><b>26.2</b> 23.2 book example</a><ul>
<li class="chapter" data-level="26.2.1" data-path="appendix-8.html"><a href="appendix-8.html#tidy-grid_space"><i class="fa fa-check"></i><b>26.2.1</b> tidy grid_space</a></li>
</ul></li>
<li class="chapter" data-level="26.3" data-path="appendix-8.html"><a href="appendix-8.html#section-81"><i class="fa fa-check"></i><b>26.3</b> 23.4.5.4</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="ch-24-model-building.html"><a href="ch-24-model-building.html"><i class="fa fa-check"></i><b>27</b> ch. 24: Model building</a><ul>
<li class="chapter" data-level="27.1" data-path="ch-24-model-building.html"><a href="ch-24-model-building.html#why-are-low-quality-diamonds-more-expensive"><i class="fa fa-check"></i><b>27.1</b> 24.2: Why are low quality diamonds more expensive?</a><ul>
<li class="chapter" data-level="27.1.1" data-path="ch-24-model-building.html"><a href="ch-24-model-building.html#section-82"><i class="fa fa-check"></i><b>27.1.1</b> 24.2.3</a></li>
</ul></li>
<li class="chapter" data-level="27.2" data-path="ch-24-model-building.html"><a href="ch-24-model-building.html#what-affects-the-number-of-daily-flights"><i class="fa fa-check"></i><b>27.2</b> 24.3 What affects the number of daily flights?</a><ul>
<li class="chapter" data-level="27.2.1" data-path="ch-24-model-building.html"><a href="ch-24-model-building.html#section-83"><i class="fa fa-check"></i><b>27.2.1</b> 24.3.5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="28" data-path="appendix-9.html"><a href="appendix-9.html"><i class="fa fa-check"></i><b>28</b> Appendix</a><ul>
<li class="chapter" data-level="28.1" data-path="appendix-9.html"><a href="appendix-9.html#section-84"><i class="fa fa-check"></i><b>28.1</b> 24.2.3.3</a></li>
<li class="chapter" data-level="28.2" data-path="appendix-9.html"><a href="appendix-9.html#section-85"><i class="fa fa-check"></i><b>28.2</b> 24.2.3.4</a><ul>
<li class="chapter" data-level="28.2.1" data-path="appendix-9.html"><a href="appendix-9.html#heteroskedasticity"><i class="fa fa-check"></i><b>28.2.1</b> heteroskedasticity</a></li>
<li class="chapter" data-level="28.2.2" data-path="appendix-9.html"><a href="appendix-9.html#rsquared-on-logged-values"><i class="fa fa-check"></i><b>28.2.2</b> rsquared on logged values</a></li>
</ul></li>
<li class="chapter" data-level="28.3" data-path="appendix-9.html"><a href="appendix-9.html#section-86"><i class="fa fa-check"></i><b>28.3</b> 24.2.3.1</a><ul>
<li class="chapter" data-level="28.3.1" data-path="appendix-9.html"><a href="appendix-9.html#more-notes-on-logs"><i class="fa fa-check"></i><b>28.3.1</b> More notes on logs</a></li>
<li class="chapter" data-level="28.3.2" data-path="appendix-9.html"><a href="appendix-9.html#carat-more-clumped-than-price"><i class="fa fa-check"></i><b>28.3.2</b> carat more clumped than price</a></li>
</ul></li>
<li class="chapter" data-level="28.4" data-path="appendix-9.html"><a href="appendix-9.html#logs-simulated-examples"><i class="fa fa-check"></i><b>28.4</b> Logs (simulated examples)</a><ul>
<li class="chapter" data-level="28.4.1" data-path="appendix-9.html"><a href="appendix-9.html#exponential-relationship"><i class="fa fa-check"></i><b>28.4.1</b> Exponential relationship</a></li>
<li class="chapter" data-level="28.4.2" data-path="appendix-9.html"><a href="appendix-9.html#log-log-relationship"><i class="fa fa-check"></i><b>28.4.2</b> Log log relationship</a></li>
</ul></li>
<li class="chapter" data-level="28.5" data-path="appendix-9.html"><a href="appendix-9.html#diamonds-data-review"><i class="fa fa-check"></i><b>28.5</b> Diamonds data review</a><ul>
<li class="chapter" data-level="28.5.1" data-path="appendix-9.html"><a href="appendix-9.html#carat-by-mean-table-value"><i class="fa fa-check"></i><b>28.5.1</b> carat by mean <code>table</code> value</a></li>
<li class="chapter" data-level="28.5.2" data-path="appendix-9.html"><a href="appendix-9.html#cutoff-part-1"><i class="fa fa-check"></i><b>28.5.2</b> Cutoff, Part 1</a></li>
<li class="chapter" data-level="28.5.3" data-path="appendix-9.html"><a href="appendix-9.html#cutoff-part-2"><i class="fa fa-check"></i><b>28.5.3</b> Cutoff, Part 2</a></li>
</ul></li>
<li class="chapter" data-level="28.6" data-path="appendix-9.html"><a href="appendix-9.html#section-87"><i class="fa fa-check"></i><b>28.6</b> 25.3.5.4</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html"><i class="fa fa-check"></i><b>29</b> ch. 25: Many models</a><ul>
<li class="chapter" data-level="29.1" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#gapminder"><i class="fa fa-check"></i><b>29.1</b> 25.2: gapminder</a><ul>
<li class="chapter" data-level="29.1.1" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#section-88"><i class="fa fa-check"></i><b>29.1.1</b> 25.2.5</a></li>
</ul></li>
<li class="chapter" data-level="29.2" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#creating-list-columns"><i class="fa fa-check"></i><b>29.2</b> 25.4: Creating list-columns</a><ul>
<li class="chapter" data-level="29.2.1" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#section-89"><i class="fa fa-check"></i><b>29.2.1</b> 25.4.5</a></li>
</ul></li>
<li class="chapter" data-level="29.3" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#simplifying-list-columns"><i class="fa fa-check"></i><b>29.3</b> 25.5: Simplifying list-columns</a><ul>
<li class="chapter" data-level="29.3.1" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#section-90"><i class="fa fa-check"></i><b>29.3.1</b> 25.5.3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="30" data-path="appendix-10.html"><a href="appendix-10.html"><i class="fa fa-check"></i><b>30</b> Appendix</a><ul>
<li class="chapter" data-level="30.1" data-path="appendix-10.html"><a href="appendix-10.html#models-in-lists"><i class="fa fa-check"></i><b>30.1</b> models in lists</a></li>
<li class="chapter" data-level="30.2" data-path="appendix-10.html"><a href="appendix-10.html#list-columns-for-sampling"><i class="fa fa-check"></i><b>30.2</b> list-columns for sampling</a></li>
<li class="chapter" data-level="30.3" data-path="appendix-10.html"><a href="appendix-10.html#section-91"><i class="fa fa-check"></i><b>30.3</b> 25.2.5.1</a><ul>
<li class="chapter" data-level="30.3.1" data-path="appendix-10.html"><a href="appendix-10.html#include-cubic-term"><i class="fa fa-check"></i><b>30.3.1</b> Include cubic term</a></li>
</ul></li>
<li class="chapter" data-level="30.4" data-path="appendix-10.html"><a href="appendix-10.html#multiple-graphs-in-chunk"><i class="fa fa-check"></i><b>30.4</b> Multiple graphs in chunk</a></li>
<li class="chapter" data-level="30.5" data-path="appendix-10.html"><a href="appendix-10.html#listquantile-examples"><i class="fa fa-check"></i><b>30.5</b> list(quantile()) examples</a></li>
<li class="chapter" data-level="30.6" data-path="appendix-10.html"><a href="appendix-10.html#extracting-row-names"><i class="fa fa-check"></i><b>30.6</b> extracting row names</a></li>
<li class="chapter" data-level="30.7" data-path="appendix-10.html"><a href="appendix-10.html#invoke_map-example-book"><i class="fa fa-check"></i><b>30.7</b> <code>invoke_map</code> example (book)</a></li>
<li class="chapter" data-level="30.8" data-path="appendix-10.html"><a href="appendix-10.html#named-list-example-book"><i class="fa fa-check"></i><b>30.8</b> named list example (book)</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html"><i class="fa fa-check"></i><b>31</b> ch. 27: R Markdown</a><ul>
<li class="chapter" data-level="31.1" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#r-markdown-basics"><i class="fa fa-check"></i><b>31.1</b> 27.2 R Markdown basics</a><ul>
<li class="chapter" data-level="31.1.1" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#section-92"><i class="fa fa-check"></i><b>31.1.1</b> 27.2.1</a></li>
</ul></li>
<li class="chapter" data-level="31.2" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#text-formatting-with-markdown"><i class="fa fa-check"></i><b>31.2</b> 27.3: Text formatting with Markdown</a><ul>
<li class="chapter" data-level="31.2.1" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#section-93"><i class="fa fa-check"></i><b>31.2.1</b> 27.3.1</a></li>
</ul></li>
<li class="chapter" data-level="31.3" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#cv-of-bryan-shalloway"><i class="fa fa-check"></i><b>31.3</b> <strong>CV of Bryan Shalloway</strong></a></li>
<li class="chapter" data-level="31.4" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#experience"><i class="fa fa-check"></i><b>31.4</b> Experience</a></li>
<li class="chapter" data-level="31.5" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#education"><i class="fa fa-check"></i><b>31.5</b> Education</a></li>
<li class="chapter" data-level="31.6" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#code-chunks"><i class="fa fa-check"></i><b>31.6</b> 27.4: Code chunks</a><ul>
<li class="chapter" data-level="31.6.1" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#section-94"><i class="fa fa-check"></i><b>31.6.1</b> 27.4.7</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="32" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html"><i class="fa fa-check"></i><b>32</b> ch. 28: Graphics for communication</a><ul>
<li class="chapter" data-level="32.1" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#label"><i class="fa fa-check"></i><b>32.1</b> 28.2: Label</a><ul>
<li class="chapter" data-level="32.1.1" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#section-95"><i class="fa fa-check"></i><b>32.1.1</b> 28.2.1</a></li>
</ul></li>
<li class="chapter" data-level="32.2" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>32.2</b> 28.3: Annotations</a><ul>
<li class="chapter" data-level="32.2.1" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#section-96"><i class="fa fa-check"></i><b>32.2.1</b> 28.3.1</a></li>
</ul></li>
<li class="chapter" data-level="32.3" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>32.3</b> 28.4: Scales</a><ul>
<li class="chapter" data-level="32.3.1" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#section-97"><i class="fa fa-check"></i><b>32.3.1</b> 28.4.4</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Another set of solutions and notes to ‘R for Data Science’</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ch.-7-data-exploration" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> ch. 7: Data exploration</h1>
<ul>
<li><code>cut_width</code>: specify binsize of each cut (often use with <code>geom_boxplot</code>)</li>
<li><code>cut_number</code>: specify number of groups to make, allowing for variable binsize (often use with <code>geom_boxplot</code>)</li>
<li><code>geom_histogram</code>: …</li>
<li><code>geom_freqpoly</code>: for if you want to have overlapping histograms (so outputs lines instead)
<ul>
<li>can set y as <code>..density..</code> to equalize scale of each (similar to how <code>geom_density</code> does).</li>
</ul></li>
<li><code>geom_boxplot</code>: …</li>
<li><code>geom_violin</code>: Creates double sided histograms for each factor of x</li>
<li><code>geom_bin2d</code>: scatter plot of x and y values, but use shading to determine count/density in each point</li>
<li><code>geom_hex</code>: same as <code>geom_bin2d</code> but hexagon instead of square shapes are shaded in</li>
<li><code>reorder</code>: arg1 = variable to reorder, arg2 = variable to reorder it by arg3 = function to reorder by (e.g. median, mean, max…)</li>
<li><code>coord_cartesian</code>: adjust x,y window w/o filtering out values that are excluded from view</li>
<li><code>xlim</code>; <code>ylim</code>: adjust window and filter out values not within window (same method as <code>scale_x(/y)_continuous</code>)
<ul>
<li>these v. <code>coord_cartesian</code> is important for geoms like <code>geom_smooth</code> that aggregate as they visualize</li>
</ul></li>
<li><code>ifelse</code>: vectorized if else (not to be confused with <code>if</code> and <code>else</code> functions)
<ul>
<li><code>dplyr::if_else</code> is more strict alternative</li>
</ul></li>
<li><code>case_when</code>: create new variable that relies on complex combination of existing variables
<ul>
<li>often use when you have complex or multiple <code>ifelse</code> statements accruing</li>
</ul></li>
</ul>
<div id="variation" class="section level2">
<h2><span class="header-section-number">7.1</span> 7.3. Variation</h2>
<div id="section-21" class="section level3">
<h3><span class="header-section-number">7.1.1</span> 7.3.4.</h3>
<p><em>1. Explore the distribution of each of the x, y, and z variables in diamonds. What do you learn? Think about a diamond and how you might decide which dimension is the length, width, and depth.</em></p>
<p>x has some 0s which signifies a data colletion error, y and z have extreme outliers (z more so).</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb329-1" title="1">x_hist &lt;-<span class="st"> </span><span class="kw">ggplot</span>(diamonds)<span class="op">+</span></a>
<a class="sourceLine" id="cb329-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> x), <span class="dt">binwidth =</span> <span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb329-3" title="3"></a>
<a class="sourceLine" id="cb329-4" title="4">y_hist &lt;-<span class="st"> </span><span class="kw">ggplot</span>(diamonds)<span class="op">+</span></a>
<a class="sourceLine" id="cb329-5" title="5"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> y), <span class="dt">binwidth =</span> <span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb329-6" title="6"></a>
<a class="sourceLine" id="cb329-7" title="7">z_hist &lt;-<span class="st"> </span><span class="kw">ggplot</span>(diamonds)<span class="op">+</span></a>
<a class="sourceLine" id="cb329-8" title="8"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> z), <span class="dt">binwidth =</span> <span class="fl">0.1</span>)</a>
<a class="sourceLine" id="cb329-9" title="9"></a>
<a class="sourceLine" id="cb329-10" title="10"></a>
<a class="sourceLine" id="cb329-11" title="11">gridExtra<span class="op">::</span><span class="kw">grid.arrange</span>(x_hist, y_hist, z_hist, <span class="dt">ncol =</span> <span class="dv">1</span>)</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>Below you see that all three have peaks and troughs on even points. X and y have more similar distributions than z.</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb330-1" title="1"><span class="kw">ggplot</span>(diamonds)<span class="op">+</span></a>
<a class="sourceLine" id="cb330-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x=</span>x),<span class="dt">binwidth=</span>.<span class="dv">1</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb330-3" title="3"><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">11</span>))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb331-1" title="1"><span class="kw">ggplot</span>(diamonds)<span class="op">+</span></a>
<a class="sourceLine" id="cb331-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x=</span>y),<span class="dt">binwidth=</span>.<span class="dv">1</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb331-3" title="3"><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">11</span>))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-2-2.png" width="672" /></p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb332-1" title="1"><span class="kw">ggplot</span>(diamonds)<span class="op">+</span></a>
<a class="sourceLine" id="cb332-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x=</span>z),<span class="dt">binwidth=</span>.<span class="dv">1</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb332-3" title="3"><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">11</span>))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-2-3.png" width="672" /></p>
<p>I would say that x and y are likely length and width and z depth because diamonds are typically circular on the face so will have the same ratio of length and width and we see this is the case for the x and y dimensions</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb333-1" title="1">diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb333-2" title="2"><span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">1000</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb333-3" title="3"><span class="st">  </span><span class="kw">ggplot</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb333-4" title="4"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(x, y))<span class="op">+</span></a>
<a class="sourceLine" id="cb333-5" title="5"><span class="st">  </span><span class="kw">coord_fixed</span>()</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Whereas z tends to be more shallow.</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb334-1" title="1">diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb334-2" title="2"><span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">1000</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb334-3" title="3"><span class="st">  </span><span class="kw">ggplot</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb334-4" title="4"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(x, z))<span class="op">+</span></a>
<a class="sourceLine" id="cb334-5" title="5"><span class="st">  </span><span class="kw">coord_fixed</span>()</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p><em>2. Explore the distribution of price. Do you discover anything unusual or surprising? (Hint: Carefully think about the binwidth and make sure you try a wide range of values.)</em></p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb335-1" title="1"><span class="kw">ggplot</span>(diamonds)<span class="op">+</span></a>
<a class="sourceLine" id="cb335-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> price), <span class="dt">binwidth=</span><span class="dv">10</span>)</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Price is right skewed.</p>
<p>Also notice that from 1400 to 1600 there are diamonds.</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb336-1" title="1"><span class="kw">ggplot</span>(diamonds)<span class="op">+</span></a>
<a class="sourceLine" id="cb336-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> price), <span class="dt">binwidth =</span> <span class="dv">5</span>)<span class="op">+</span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">1400</span>,<span class="dv">1600</span>))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p><em>3. How many diamonds are 0.99 carat? How many are 1 carat? What do you think is the cause of the difference?</em></p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb337-1" title="1"><span class="kw">filter</span>(diamonds, carat <span class="op">==</span><span class="st"> </span><span class="fl">0.99</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb337-2" title="2"><span class="st">  </span><span class="kw">count</span>()</a></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1    23</code></pre>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb339-1" title="1"><span class="kw">filter</span>(diamonds, carat <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb339-2" title="2"><span class="st">  </span><span class="kw">count</span>()</a></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1  1558</code></pre>
<p>For visual scale.</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb341-1" title="1"><span class="kw">ggplot</span>(diamonds)<span class="op">+</span></a>
<a class="sourceLine" id="cb341-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x=</span>carat), <span class="dt">binwidth=</span>.<span class="dv">01</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb341-3" title="3"><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim=</span><span class="kw">c</span>(.<span class="dv">99</span>,<span class="dv">1</span>))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>The difference may be caused by jewlers rounding-up because people want to buy ‘1’ carat diamonds not 0.99 carat diamonds. It could also be that some listings are simpoly only in integers<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a>.</p>
<p><em>4.Compare and contrast <code>coord_cartesian()</code> vs <code>xlim()</code> or <code>ylim()</code> when zooming in on a histogram. What happens if you leave binwidth unset? What happens if you try and zoom so only half a bar shows?</em></p>
<p><code>coord_cartesian</code> does not change data ust window view where as <code>xlim</code> and <code>ylim</code> will get rid of data outside of domain<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a>.</p>
</div>
</div>
<div id="missing-values" class="section level2">
<h2><span class="header-section-number">7.2</span> 7.4. Missing values</h2>
<div id="section-22" class="section level3">
<h3><span class="header-section-number">7.2.1</span> 7.4.1.</h3>
<p><em>1. What happens to missing values in a histogram? What happens to missing values in a bar chart? Why is there a difference?</em><br />
With numeric data they both filter out NAs, though for categorical / character variables the <code>barplot</code> will create a seperate olumn with the category. This is because <code>NA</code> can just be thought of as another category though it is difficulty to place it within a distribution of values.</p>
<p>Treats these the same.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb342-1" title="1"><span class="kw">mutate</span>(diamonds, <span class="dt">carattest=</span><span class="kw">ifelse</span>(carat<span class="op">&lt;</span><span class="fl">1.5</span> <span class="op">&amp;</span><span class="st"> </span>carat<span class="op">&gt;</span>.<span class="dv">7</span>, <span class="ot">NA</span>, carat)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb342-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb342-3" title="3"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x=</span>carattest))</a></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 20543 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb345-1" title="1"><span class="kw">mutate</span>(diamonds, <span class="dt">carattest=</span><span class="kw">ifelse</span>(carat<span class="op">&lt;</span><span class="fl">1.5</span> <span class="op">&amp;</span><span class="st"> </span>carat<span class="op">&gt;</span>.<span class="dv">7</span>, <span class="ot">NA</span>, color)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb345-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb345-3" title="3"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x=</span>carattest))</a></code></pre></div>
<pre><code>## Warning: Removed 20543 rows containing non-finite values (stat_count).</code></pre>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>
<p>For character than it creates a new bar for <code>NA</code>s</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb347-1" title="1"><span class="kw">mutate</span>(diamonds, <span class="dt">carattest=</span><span class="kw">ifelse</span>(carat<span class="op">&lt;</span><span class="fl">1.5</span> <span class="op">&amp;</span><span class="st"> </span>carat<span class="op">&gt;</span>.<span class="dv">7</span>, <span class="ot">NA</span>, color)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb347-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb347-3" title="3"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">as.character</span>(carattest)))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p><em>2. What does na.rm = TRUE do in <code>mean()</code> and <code>sum()</code>?</em></p>
<p>Filters it out of the vector of values.</p>
</div>
</div>
<div id="covariation" class="section level2">
<h2><span class="header-section-number">7.3</span> 7.5. Covariation</h2>
<div id="section-23" class="section level3">
<h3><span class="header-section-number">7.3.1</span> 7.5.1.1.</h3>
<p><em>1. Use what you’ve learned to improve the visualisation of the departure times of cancelled vs. non-cancelled flights.</em><br />
Looks like while non-cancelled flights happen at similar frequency in mornings and evenings, cancelled flights happen at a greater frequency in the evenings.</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb348-1" title="1">nycflights13<span class="op">::</span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb348-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb348-3" title="3">    <span class="dt">cancelled =</span> <span class="kw">is.na</span>(dep_time),</a>
<a class="sourceLine" id="cb348-4" title="4">    <span class="dt">sched_hour =</span> sched_dep_time <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span>,</a>
<a class="sourceLine" id="cb348-5" title="5">    <span class="dt">sched_min =</span> sched_dep_time <span class="op">%%</span><span class="st"> </span><span class="dv">100</span>,</a>
<a class="sourceLine" id="cb348-6" title="6">    <span class="dt">sched_dep_time =</span> sched_hour <span class="op">+</span><span class="st"> </span>sched_min <span class="op">/</span><span class="st"> </span><span class="dv">60</span></a>
<a class="sourceLine" id="cb348-7" title="7">  ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb348-8" title="8"><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>sched_dep_time, <span class="dt">y=</span>..density..)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb348-9" title="9"><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> cancelled), <span class="dt">binwidth =</span> <span class="fl">.25</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb348-10" title="10"><span class="st">  </span><span class="kw">xlim</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">25</span>))</a></code></pre></div>
<pre><code>## Warning: Removed 1 rows containing non-finite values (stat_bin).</code></pre>
<pre><code>## Warning: Removed 4 rows containing missing values (geom_path).</code></pre>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Let’s look at the same plot but smooth the distributions to make the pattern easier to see.</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb351-1" title="1">nycflights13<span class="op">::</span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb351-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb351-3" title="3">    <span class="dt">cancelled =</span> <span class="kw">is.na</span>(dep_time),</a>
<a class="sourceLine" id="cb351-4" title="4">    <span class="dt">sched_hour =</span> sched_dep_time <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span>,</a>
<a class="sourceLine" id="cb351-5" title="5">    <span class="dt">sched_min =</span> sched_dep_time <span class="op">%%</span><span class="st"> </span><span class="dv">100</span>,</a>
<a class="sourceLine" id="cb351-6" title="6">    <span class="dt">sched_dep_time =</span> sched_hour <span class="op">+</span><span class="st"> </span>sched_min <span class="op">/</span><span class="st"> </span><span class="dv">60</span></a>
<a class="sourceLine" id="cb351-7" title="7">  ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb351-8" title="8"><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span>sched_dep_time)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb351-9" title="9"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">fill =</span> cancelled), <span class="dt">alpha =</span> <span class="fl">0.30</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb351-10" title="10"><span class="st">  </span><span class="kw">xlim</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">25</span>))</a></code></pre></div>
<pre><code>## Warning: Removed 1 rows containing non-finite values (stat_density).</code></pre>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p><em>2.What variable in the diamonds dataset is most important for predicting the price of a diamond? How is that variable correlated with cut? Why does the combination of those two relationships lead to lower quality diamonds being more expensive?</em></p>
<p>carat is the most important for predicting price.</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb353-1" title="1"><span class="kw">cor</span>(diamonds<span class="op">$</span>price, <span class="kw">select</span>(diamonds, carat, depth, table, x, y, z))</a></code></pre></div>
<pre><code>##          carat      depth     table         x         y         z
## [1,] 0.9215913 -0.0106474 0.1271339 0.8844352 0.8654209 0.8612494</code></pre>
<p>fair <code>cut</code>s seem to associate with a higher <code>carat</code> thus while lower quality diamonds may be selling for more that is being driven by the <code>carat</code> of the diamond (the most important factor in <code>price</code>) and the quality simply cannot offset this.</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb355-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data=</span>diamonds, <span class="kw">aes</span>(<span class="dt">x=</span>cut, <span class="dt">y=</span>carat))<span class="op">+</span></a>
<a class="sourceLine" id="cb355-2" title="2"><span class="st">  </span><span class="kw">geom_boxplot</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb355-3" title="3"><span class="st">  </span><span class="kw">coord_flip</span>()</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p><em>3.Install the ggstance package, and create a horizontal boxplot. How does this compare to using coord_flip()?</em></p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb356-1" title="1"><span class="kw">ggplot</span>(diamonds)<span class="op">+</span></a>
<a class="sourceLine" id="cb356-2" title="2"><span class="st">  </span>ggstance<span class="op">::</span><span class="kw">geom_boxploth</span>(<span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> cut))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>Looks like it does the same thing.</p>
<p><em>4. One problem with boxplots is that they were developed in an era of much smaller datasets and tend to display a prohibitively large number of “outlying values”. One approach to remedy this problem is the letter value plot. Install the lvplot package, and try using geom_lv() to display the distribution of price vs cut. What do you learn? How do you interpret the plots?</em></p>
<p>I found this helpful: <a href="https://stats.stackexchange.com/questions/301159/understanding-and-interpreting-letter-value-boxplots" class="uri">https://stats.stackexchange.com/questions/301159/understanding-and-interpreting-letter-value-boxplots</a></p>
<p>This produces a ‘letter-value’ boxplot which means that in the first box you have the middle ~1/2 of data, then in the adoining boxes the next ~1/4, so within the middle 3 boxes you have the middle ~3/4 of data, next two boxes is ~7/8ths, then ~15/16th etc.</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb357-1" title="1"><span class="kw">set.seed</span>(<span class="dv">1234</span>)</a>
<a class="sourceLine" id="cb357-2" title="2">a &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb357-3" title="3"><span class="st">  </span><span class="kw">ggplot</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb357-4" title="4"><span class="st">  </span>lvplot<span class="op">::</span><span class="kw">geom_lv</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cut, <span class="dt">y =</span> price))</a>
<a class="sourceLine" id="cb357-5" title="5"></a>
<a class="sourceLine" id="cb357-6" title="6"><span class="kw">set.seed</span>(<span class="dv">1234</span>)</a>
<a class="sourceLine" id="cb357-7" title="7">b &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb357-8" title="8"><span class="st">  </span><span class="kw">ggplot</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb357-9" title="9"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cut, <span class="dt">y =</span> price))</a></code></pre></div>
<p>Perhaps a helpful way to understand this is to see what it looks like at different specified ‘k’ values (which)</p>
<p>You can see the letters when you add <code>fill = ..LV..</code> to the aesthetic.</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb358-1" title="1">diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb358-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb358-3" title="3"><span class="st">  </span>lvplot<span class="op">::</span><span class="kw">geom_lv</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cut, <span class="dt">y =</span> price, <span class="dt">alpha =</span> ..LV..), <span class="dt">fill =</span> <span class="st">&quot;blue&quot;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb358-4" title="4"><span class="st">  </span><span class="kw">scale_alpha_discrete</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="fl">0.7</span>, <span class="dv">0</span>))</a></code></pre></div>
<pre><code>## Warning: Using alpha for a discrete variable is not advised.</code></pre>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb360-1" title="1">diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb360-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb360-3" title="3"><span class="st">  </span>lvplot<span class="op">::</span><span class="kw">geom_lv</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cut, <span class="dt">y =</span> price, <span class="dt">fill =</span> ..LV..))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-17-2.png" width="672" /></p>
<p>Letters represent ‘median’, ‘fourths’, ‘eights’…</p>
<p><em>5. Compare and contrast geom_violin() with a facetted geom_histogram(), or a coloured geom_freqpoly(). What are the pros and cons of each method?</em></p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb361-1" title="1"><span class="kw">ggplot</span>(diamonds,<span class="kw">aes</span>(<span class="dt">x =</span> cut, <span class="dt">y =</span> carat))<span class="op">+</span></a>
<a class="sourceLine" id="cb361-2" title="2"><span class="st">  </span><span class="kw">geom_violin</span>()</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb362-1" title="1"><span class="kw">ggplot</span>(diamonds,<span class="kw">aes</span>(<span class="dt">colour =</span> cut, <span class="dt">x =</span> carat, <span class="dt">y =</span> ..density..))<span class="op">+</span></a>
<a class="sourceLine" id="cb362-2" title="2"><span class="st">  </span><span class="kw">geom_freqpoly</span>()</a></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-18-2.png" width="672" /></p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb364-1" title="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> ..density..))<span class="op">+</span></a>
<a class="sourceLine" id="cb364-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb364-3" title="3"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>cut)</a></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-18-3.png" width="672" /></p>
<p>I like how <code>geom_freqpoly</code> has points directly overlaying but it can also be tough to read some, and the lines can overlap and be tough to tell apart, you also have to specify <code>density</code> for this and <code>geom_histogram</code> whereas for <code>geom_violin</code> it is the default. The tails in <code>geom_violin</code> can be easy to read but they also pull these for each of the of the values whereas by faceting <code>geomo_histogram</code> and setting <code>scales = "free"</code> you can have independent scales. I think the biggest advantage of the histogram is that it is the most familiar so people will know what you’re looking at.</p>
<p><em>6. If you have a small dataset, it’s sometimes useful to use geom_jitter() to see the relationship between a continuous and categorical variable. The ggbeeswarm package provides a number of methods similar to geom_jitter(). List them and briefly describe what each one does.</em></p>
<p>(Come back to)</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb366-1" title="1"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(<span class="dt">x =</span> displ, <span class="dt">y =</span> cty, <span class="dt">color =</span> drv))<span class="op">+</span></a>
<a class="sourceLine" id="cb366-2" title="2"><span class="st">  </span><span class="kw">geom_point</span>()    </a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb367-1" title="1"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(<span class="dt">x =</span> displ, <span class="dt">y =</span> cty, <span class="dt">color =</span> drv))<span class="op">+</span></a>
<a class="sourceLine" id="cb367-2" title="2"><span class="st">  </span><span class="kw">geom_jitter</span>()</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-19-2.png" width="672" /></p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb368-1" title="1"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(<span class="dt">x =</span> displ, <span class="dt">y =</span> cty, <span class="dt">color =</span> drv))<span class="op">+</span></a>
<a class="sourceLine" id="cb368-2" title="2"><span class="st">  </span><span class="kw">geom_beeswarm</span>()</a></code></pre></div>
<pre><code>## Warning in f(...): The default behavior of beeswarm has changed in version
## 0.6.0. In versions &lt;0.6.0, this plot would have been dodged on the y-
## axis. In versions &gt;=0.6.0, grouponX=FALSE must be explicitly set to group
## on y-axis. Please set grouponX=TRUE/FALSE to avoid this warning and ensure
## proper axis choice.</code></pre>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-19-3.png" width="672" /></p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb370-1" title="1"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(<span class="dt">x =</span> displ, <span class="dt">y =</span> cty, <span class="dt">color =</span> drv))<span class="op">+</span></a>
<a class="sourceLine" id="cb370-2" title="2"><span class="st">  </span><span class="kw">geom_quasirandom</span>()</a></code></pre></div>
<pre><code>## Warning in f(...): The default behavior of beeswarm has changed in version
## 0.6.0. In versions &lt;0.6.0, this plot would have been dodged on the y-
## axis. In versions &gt;=0.6.0, grouponX=FALSE must be explicitly set to group
## on y-axis. Please set grouponX=TRUE/FALSE to avoid this warning and ensure
## proper axis choice.</code></pre>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-19-4.png" width="672" /></p>
<p><code>geom_jitter</code> is similar to <code>geom_point</code> but it provides random noise to the points. You can control these with the <code>width</code> and <code>height</code> arguments. This is valuable as it allows you to better see points that may overlap one another. <code>geom_beeswarm</code> adds variation in a uniform pattern by default across only the x-axis. <code>geom-quasirandom</code> also defaults to distributing the points across the x-axis however it produces quasi-random variation, <span style="color:green">‘quasi’</span> because it looks as though points follow some interrelationship<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a> and if you run the plot multiple times you will get the exact same plot whereas for <code>geom_jitter</code> you will get a slightly different plot each time. To see the differences between <code>geom_beeswarm</code> and geom_quasirandom` it’s helpful to look at the plots above, but holding the y value constant at 1.</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb372-1" title="1">plot_orig &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(<span class="dt">x =</span> displ, <span class="dt">y =</span> cty, <span class="dt">color =</span> drv))<span class="op">+</span></a>
<a class="sourceLine" id="cb372-2" title="2"><span class="st">  </span><span class="kw">geom_point</span>()</a>
<a class="sourceLine" id="cb372-3" title="3"></a>
<a class="sourceLine" id="cb372-4" title="4">plot_bees &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> cty, <span class="dt">color =</span> drv))<span class="op">+</span></a>
<a class="sourceLine" id="cb372-5" title="5"><span class="st">  </span><span class="kw">geom_beeswarm</span>()</a>
<a class="sourceLine" id="cb372-6" title="6"></a>
<a class="sourceLine" id="cb372-7" title="7">plot_quasi &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> cty, <span class="dt">color =</span> drv))<span class="op">+</span></a>
<a class="sourceLine" id="cb372-8" title="8"><span class="st">  </span><span class="kw">geom_quasirandom</span>()</a>
<a class="sourceLine" id="cb372-9" title="9"></a>
<a class="sourceLine" id="cb372-10" title="10">gridExtra<span class="op">::</span><span class="kw">grid.arrange</span>(plot_orig, plot_bees, plot_quasi, <span class="dt">ncol =</span> <span class="dv">1</span>)</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
<div id="section-24" class="section level3">
<h3><span class="header-section-number">7.3.2</span> 7.5.2.1.</h3>
<p><em>1. How could you rescale the count dataset above to more clearly show the distribution of cut within colour, or colour within cut?</em></p>
<p>Proportion cut in color:<br />
(change <code>group_by</code> to <code>group_by(cut, color)</code> to set-up the converse)</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb373-1" title="1">cut_in_color_graph &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb373-2" title="2"><span class="st">  </span><span class="kw">group_by</span>(color, cut) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb373-3" title="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb373-4" title="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">proportion_cut_in_color =</span> n<span class="op">/</span><span class="kw">sum</span>(n)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb373-5" title="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> color, <span class="dt">y =</span> cut))<span class="op">+</span></a>
<a class="sourceLine" id="cb373-6" title="6"><span class="st">  </span><span class="kw">geom_tile</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> proportion_cut_in_color))<span class="op">+</span></a>
<a class="sourceLine" id="cb373-7" title="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&quot;proportion</span><span class="ch">\n</span><span class="st">cut in color&quot;</span>)</a>
<a class="sourceLine" id="cb373-8" title="8"></a>
<a class="sourceLine" id="cb373-9" title="9">cut_in_color_graph</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>This makes it clear that <code>ideal</code> cuts dominate the proportions of multiple colors, not ust G. I though am only so-so about this visualization with <code>geom_tile</code>… curious if someone had a better way of visualizing…?</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb374-1" title="1"><span class="kw">library</span>(seriation)</a>
<a class="sourceLine" id="cb374-2" title="2"><span class="kw">library</span>(d3heatmap)</a>
<a class="sourceLine" id="cb374-3" title="3"><span class="kw">library</span>(heatmaply)</a></code></pre></div>
<p>Did anyone explore these?</p>
<p><em>2. Use <code>geom_tile()</code> together with dplyr to explore how average flight delays vary by destination and month of year. What makes the plot difficult to read? How could you improve it?</em></p>
<p>I improved the original graph by adding in a filter so that only destinations that received over 10000 flights were included</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb375-1" title="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb375-2" title="2"><span class="st">  </span><span class="kw">group_by</span>(dest, month) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb375-3" title="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">delay_mean =</span> <span class="kw">mean</span>(dep_delay, <span class="dt">na.rm=</span><span class="ot">TRUE</span>), </a>
<a class="sourceLine" id="cb375-4" title="4">            <span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb375-5" title="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sum_n =</span> <span class="kw">sum</span>(n)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb375-6" title="6"><span class="st">  </span><span class="kw">select</span>(dest, month, delay_mean, n, sum_n) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb375-7" title="7"><span class="st">  </span><span class="kw">as.data.frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb375-8" title="8"><span class="st">  </span><span class="kw">filter</span>(dest <span class="op">==</span><span class="st"> &quot;ABQ&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb375-9" title="9"><span class="st">  </span><span class="co">#the sum on n will be at the dest level here</span></a>
<a class="sourceLine" id="cb375-10" title="10"><span class="st">  </span><span class="kw">filter</span>(sum_n <span class="op">&gt;</span><span class="st"> </span><span class="dv">30</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb375-11" title="11"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">as.factor</span>(month), <span class="dt">y =</span> dest, <span class="dt">fill =</span> delay_mean))<span class="op">+</span></a>
<a class="sourceLine" id="cb375-12" title="12"><span class="st">  </span><span class="kw">geom_tile</span>()</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>Another way to improve it may be to group the destinations into regions. This also will prevent you from filtering out data. We aren’t given region information, but we do have lat and long points in the <code>airports</code> dataset. See appendix for ntoes.</p>
<p><em>3. Why is it slightly better to use aes(x = color, y = cut) rather than aes(x = cut, y = color) in the example above?</em></p>
<p>If you’re comparing the proportion of cut in color and want to be looking at how the specific cut proportion is changing, it may easier to view this while looking left to right vs. down to up. Compare the two plots below.</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb376-1" title="1">cut_in_color_graph</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb377-1" title="1">cut_in_color_graph<span class="op">+</span></a>
<a class="sourceLine" id="cb377-2" title="2"><span class="st">  </span><span class="kw">coord_flip</span>()</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-24-2.png" width="672" /></p>
</div>
</div>
<div id="two-continuous-variables" class="section level2">
<h2><span class="header-section-number">7.4</span> 7.5.3 Two continuous variables</h2>
<p>Two-d histograms</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb378-1" title="1">smaller &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb378-2" title="2"><span class="st">  </span><span class="kw">filter</span>(carat <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb378-3" title="3"></a>
<a class="sourceLine" id="cb378-4" title="4"><span class="kw">ggplot</span>(<span class="dt">data =</span> smaller) <span class="op">+</span></a>
<a class="sourceLine" id="cb378-5" title="5"><span class="st">  </span><span class="kw">geom_hex</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb379-1" title="1"><span class="co">#can change bin number</span></a>
<a class="sourceLine" id="cb379-2" title="2"><span class="kw">ggplot</span>(<span class="dt">data =</span> smaller) <span class="op">+</span></a>
<a class="sourceLine" id="cb379-3" title="3"><span class="st">  </span><span class="kw">geom_bin2d</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price), <span class="dt">bins =</span> <span class="kw">c</span>(<span class="dv">30</span>, <span class="dv">30</span>))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-25-2.png" width="672" /></p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb380-1" title="1"><span class="co">#or binwidth</span></a>
<a class="sourceLine" id="cb380-2" title="2"><span class="kw">ggplot</span>(<span class="dt">data =</span> smaller) <span class="op">+</span></a>
<a class="sourceLine" id="cb380-3" title="3"><span class="st">  </span><span class="kw">geom_bin2d</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price), <span class="dt">binwidth =</span> <span class="kw">c</span>(.<span class="dv">1</span>, <span class="dv">1000</span>))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-25-3.png" width="672" /></p>
<p>Binned boxplots, violins, and lvs</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb381-1" title="1"><span class="co">#split by width</span></a>
<a class="sourceLine" id="cb381-2" title="2"><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))<span class="op">+</span></a>
<a class="sourceLine" id="cb381-3" title="3"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">cut_width</span>(carat, <span class="fl">0.1</span>)))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb382-1" title="1"><span class="co">#split to get approximately same number in each box with cut_number()</span></a>
<a class="sourceLine" id="cb382-2" title="2"><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))<span class="op">+</span></a>
<a class="sourceLine" id="cb382-3" title="3"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">cut_number</span>(carat, <span class="dv">20</span>)))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-26-2.png" width="672" /></p>
<p>These methods don’t seem to work quite as well with violin plots or letter value plots</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb383-1" title="1"><span class="co">##violin</span></a>
<a class="sourceLine" id="cb383-2" title="2"><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))<span class="op">+</span></a>
<a class="sourceLine" id="cb383-3" title="3"><span class="st">  </span><span class="kw">geom_violin</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">cut_width</span>(carat, <span class="fl">0.1</span>)))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb384-1" title="1"><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))<span class="op">+</span></a>
<a class="sourceLine" id="cb384-2" title="2"><span class="st">  </span><span class="kw">geom_violin</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">cut_number</span>(carat, <span class="dv">20</span>)))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-27-2.png" width="672" /></p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb385-1" title="1"><span class="co">##letter value</span></a>
<a class="sourceLine" id="cb385-2" title="2"><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))<span class="op">+</span></a>
<a class="sourceLine" id="cb385-3" title="3"><span class="st">  </span>lvplot<span class="op">::</span><span class="kw">geom_lv</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">cut_width</span>(carat, <span class="fl">0.1</span>)))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-27-3.png" width="672" /></p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb386-1" title="1"><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))<span class="op">+</span></a>
<a class="sourceLine" id="cb386-2" title="2"><span class="st">  </span>lvplot<span class="op">::</span><span class="kw">geom_lv</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">cut_number</span>(carat, <span class="dv">10</span>)))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-27-4.png" width="672" /></p>
<p>But that may be because there is not enough information in each bin, they may be more effective with smaller bin sizes… Interested if anyone found more effective methods for using things other than boxplots with this binning style?</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb387-1" title="1"><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))<span class="op">+</span></a>
<a class="sourceLine" id="cb387-2" title="2"><span class="st">  </span><span class="kw">geom_violin</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">cut_width</span>(carat, <span class="fl">.25</span>)))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<div id="section-25" class="section level3">
<h3><span class="header-section-number">7.4.1</span> 7.5.3.1.</h3>
<p><em>1. Instead of summarising the conditional distribution with a boxplot, you could use a frequency polygon. What do you need to consider when using cut_width() vs cut_number()? How does that impact a visualisation of the 2d distribution of carat and price?</em></p>
<p>You should keep in mind how many lines you are going to create, they may overlap each other and look busy if you’re not careful.</p>
<p>For the visualization below i wrapped it in the funciton <code>ggplotly</code>. This funciton wraps your ggplot in html so that you can do things like hover over the points</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb388-1" title="1"><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x=</span>price))<span class="op">+</span></a>
<a class="sourceLine" id="cb388-2" title="2"><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> <span class="kw">cut_number</span>(carat, <span class="dv">10</span>)))</a></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<p>However, I set the code chunks such that it will only execute for html, not markdown docs.</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb390-1" title="1">p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(smaller, <span class="kw">aes</span>(<span class="dt">x=</span>price))<span class="op">+</span></a>
<a class="sourceLine" id="cb390-2" title="2"><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> <span class="kw">cut_width</span>(carat, <span class="fl">0.25</span>)))</a>
<a class="sourceLine" id="cb390-3" title="3"></a>
<a class="sourceLine" id="cb390-4" title="4"></a>
<a class="sourceLine" id="cb390-5" title="5">plotly<span class="op">::</span><span class="kw">ggplotly</span>(p)</a></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<div id="htmlwidget-a092234a00f466fa8377" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-a092234a00f466fa8377">{"x":{"data":[{"x":[0,637.827586206897,1275.65517241379,1913.48275862069,2551.31034482759,3189.13793103448,3826.96551724138,4464.79310344828,5102.62068965517,5740.44827586207,6378.27586206897,7016.10344827586,7653.93103448276,8291.75862068965,8929.58620689655,9567.41379310345,10205.2413793103,10843.0689655172,11480.8965517241,12118.724137931,12756.5517241379,13394.3793103448,14032.2068965517,14670.0344827586,15307.8620689655,15945.6896551724,16583.5172413793,17221.3448275862,17859.1724137931,18497,19134.8275862069,19772.6551724138],"y":[0,10836,1175,8,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"text":["cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:     0.0000","cut_width(carat, 0.25): [0.125,0.375]<br />count: 10836<br />price:   637.8276","cut_width(carat, 0.25): [0.125,0.375]<br />count:  1175<br />price:  1275.6552","cut_width(carat, 0.25): [0.125,0.375]<br />count:     8<br />price:  1913.4828","cut_width(carat, 0.25): [0.125,0.375]<br />count:     5<br />price:  2551.3103","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:  3189.1379","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:  3826.9655","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:  4464.7931","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:  5102.6207","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:  5740.4483","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:  6378.2759","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:  7016.1034","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:  7653.9310","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:  8291.7586","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:  8929.5862","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price:  9567.4138","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 10205.2414","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 10843.0690","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 11480.8966","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 12118.7241","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 12756.5517","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 13394.3793","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 14032.2069","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 14670.0345","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 15307.8621","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 15945.6897","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 16583.5172","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 17221.3448","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 17859.1724","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 18497.0000","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 19134.8276","cut_width(carat, 0.25): [0.125,0.375]<br />count:     0<br />price: 19772.6552"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"[0.125,0.375]","legendgroup":"[0.125,0.375]","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,637.827586206897,1275.65517241379,1913.48275862069,2551.31034482759,3189.13793103448,3826.96551724138,4464.79310344828,5102.62068965517,5740.44827586207,6378.27586206897,7016.10344827586,7653.93103448276,8291.75862068965,8929.58620689655,9567.41379310345,10205.2413793103,10843.0689655172,11480.8965517241,12118.724137931,12756.5517241379,13394.3793103448,14032.2068965517,14670.0344827586,15307.8620689655,15945.6896551724,16583.5172413793,17221.3448275862,17859.1724137931,18497,19134.8275862069,19772.6551724138],"y":[0,2789,5520,3758,572,95,17,11,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"text":["cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price:     0.0000","cut_width(carat, 0.25): (0.375,0.625]<br />count:  2789<br />price:   637.8276","cut_width(carat, 0.25): (0.375,0.625]<br />count:  5520<br />price:  1275.6552","cut_width(carat, 0.25): (0.375,0.625]<br />count:  3758<br />price:  1913.4828","cut_width(carat, 0.25): (0.375,0.625]<br />count:   572<br />price:  2551.3103","cut_width(carat, 0.25): (0.375,0.625]<br />count:    95<br />price:  3189.1379","cut_width(carat, 0.25): (0.375,0.625]<br />count:    17<br />price:  3826.9655","cut_width(carat, 0.25): (0.375,0.625]<br />count:    11<br />price:  4464.7931","cut_width(carat, 0.25): (0.375,0.625]<br />count:     1<br />price:  5102.6207","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price:  5740.4483","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price:  6378.2759","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price:  7016.1034","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price:  7653.9310","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price:  8291.7586","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price:  8929.5862","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price:  9567.4138","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 10205.2414","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 10843.0690","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 11480.8966","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 12118.7241","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 12756.5517","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 13394.3793","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 14032.2069","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 14670.0345","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 15307.8621","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 15945.6897","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 16583.5172","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 17221.3448","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 17859.1724","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 18497.0000","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 19134.8276","cut_width(carat, 0.25): (0.375,0.625]<br />count:     0<br />price: 19772.6552"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(219,142,0,1)","dash":"solid"},"hoveron":"points","name":"(0.375,0.625]","legendgroup":"(0.375,0.625]","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,637.827586206897,1275.65517241379,1913.48275862069,2551.31034482759,3189.13793103448,3826.96551724138,4464.79310344828,5102.62068965517,5740.44827586207,6378.27586206897,7016.10344827586,7653.93103448276,8291.75862068965,8929.58620689655,9567.41379310345,10205.2413793103,10843.0689655172,11480.8965517241,12118.724137931,12756.5517241379,13394.3793103448,14032.2068965517,14670.0344827586,15307.8620689655,15945.6896551724,16583.5172413793,17221.3448275862,17859.1724137931,18497,19134.8275862069,19772.6551724138],"y":[0,7,110,1400,3236,1781,547,142,45,10,5,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"text":["cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price:     0.0000","cut_width(carat, 0.25): (0.625,0.875]<br />count:     7<br />price:   637.8276","cut_width(carat, 0.25): (0.625,0.875]<br />count:   110<br />price:  1275.6552","cut_width(carat, 0.25): (0.625,0.875]<br />count:  1400<br />price:  1913.4828","cut_width(carat, 0.25): (0.625,0.875]<br />count:  3236<br />price:  2551.3103","cut_width(carat, 0.25): (0.625,0.875]<br />count:  1781<br />price:  3189.1379","cut_width(carat, 0.25): (0.625,0.875]<br />count:   547<br />price:  3826.9655","cut_width(carat, 0.25): (0.625,0.875]<br />count:   142<br />price:  4464.7931","cut_width(carat, 0.25): (0.625,0.875]<br />count:    45<br />price:  5102.6207","cut_width(carat, 0.25): (0.625,0.875]<br />count:    10<br />price:  5740.4483","cut_width(carat, 0.25): (0.625,0.875]<br />count:     5<br />price:  6378.2759","cut_width(carat, 0.25): (0.625,0.875]<br />count:     2<br />price:  7016.1034","cut_width(carat, 0.25): (0.625,0.875]<br />count:     1<br />price:  7653.9310","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price:  8291.7586","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price:  8929.5862","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price:  9567.4138","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 10205.2414","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 10843.0690","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 11480.8966","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 12118.7241","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 12756.5517","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 13394.3793","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 14032.2069","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 14670.0345","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 15307.8621","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 15945.6897","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 16583.5172","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 17221.3448","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 17859.1724","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 18497.0000","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 19134.8276","cut_width(carat, 0.25): (0.625,0.875]<br />count:     0<br />price: 19772.6552"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(174,162,0,1)","dash":"solid"},"hoveron":"points","name":"(0.625,0.875]","legendgroup":"(0.625,0.875]","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,637.827586206897,1275.65517241379,1913.48275862069,2551.31034482759,3189.13793103448,3826.96551724138,4464.79310344828,5102.62068965517,5740.44827586207,6378.27586206897,7016.10344827586,7653.93103448276,8291.75862068965,8929.58620689655,9567.41379310345,10205.2413793103,10843.0689655172,11480.8965517241,12118.724137931,12756.5517241379,13394.3793103448,14032.2068965517,14670.0344827586,15307.8620689655,15945.6896551724,16583.5172413793,17221.3448275862,17859.1724137931,18497,19134.8275862069,19772.6551724138],"y":[0,0,4,60,218,895,1957,2553,1647,989,832,559,421,222,202,109,85,70,42,19,12,5,2,6,9,6,2,2,3,3,0,0],"text":["cut_width(carat, 0.25): (0.875,1.12]<br />count:     0<br />price:     0.0000","cut_width(carat, 0.25): (0.875,1.12]<br />count:     0<br />price:   637.8276","cut_width(carat, 0.25): (0.875,1.12]<br />count:     4<br />price:  1275.6552","cut_width(carat, 0.25): (0.875,1.12]<br />count:    60<br />price:  1913.4828","cut_width(carat, 0.25): (0.875,1.12]<br />count:   218<br />price:  2551.3103","cut_width(carat, 0.25): (0.875,1.12]<br />count:   895<br />price:  3189.1379","cut_width(carat, 0.25): (0.875,1.12]<br />count:  1957<br />price:  3826.9655","cut_width(carat, 0.25): (0.875,1.12]<br />count:  2553<br />price:  4464.7931","cut_width(carat, 0.25): (0.875,1.12]<br />count:  1647<br />price:  5102.6207","cut_width(carat, 0.25): (0.875,1.12]<br />count:   989<br />price:  5740.4483","cut_width(carat, 0.25): (0.875,1.12]<br />count:   832<br />price:  6378.2759","cut_width(carat, 0.25): (0.875,1.12]<br />count:   559<br />price:  7016.1034","cut_width(carat, 0.25): (0.875,1.12]<br />count:   421<br />price:  7653.9310","cut_width(carat, 0.25): (0.875,1.12]<br />count:   222<br />price:  8291.7586","cut_width(carat, 0.25): (0.875,1.12]<br />count:   202<br />price:  8929.5862","cut_width(carat, 0.25): (0.875,1.12]<br />count:   109<br />price:  9567.4138","cut_width(carat, 0.25): (0.875,1.12]<br />count:    85<br />price: 10205.2414","cut_width(carat, 0.25): (0.875,1.12]<br />count:    70<br />price: 10843.0690","cut_width(carat, 0.25): (0.875,1.12]<br />count:    42<br />price: 11480.8966","cut_width(carat, 0.25): (0.875,1.12]<br />count:    19<br />price: 12118.7241","cut_width(carat, 0.25): (0.875,1.12]<br />count:    12<br />price: 12756.5517","cut_width(carat, 0.25): (0.875,1.12]<br />count:     5<br />price: 13394.3793","cut_width(carat, 0.25): (0.875,1.12]<br />count:     2<br />price: 14032.2069","cut_width(carat, 0.25): (0.875,1.12]<br />count:     6<br />price: 14670.0345","cut_width(carat, 0.25): (0.875,1.12]<br />count:     9<br />price: 15307.8621","cut_width(carat, 0.25): (0.875,1.12]<br />count:     6<br />price: 15945.6897","cut_width(carat, 0.25): (0.875,1.12]<br />count:     2<br />price: 16583.5172","cut_width(carat, 0.25): (0.875,1.12]<br />count:     2<br />price: 17221.3448","cut_width(carat, 0.25): (0.875,1.12]<br />count:     3<br />price: 17859.1724","cut_width(carat, 0.25): (0.875,1.12]<br />count:     3<br />price: 18497.0000","cut_width(carat, 0.25): (0.875,1.12]<br />count:     0<br />price: 19134.8276","cut_width(carat, 0.25): (0.875,1.12]<br />count:     0<br />price: 19772.6552"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(100,178,0,1)","dash":"solid"},"hoveron":"points","name":"(0.875,1.12]","legendgroup":"(0.875,1.12]","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,637.827586206897,1275.65517241379,1913.48275862069,2551.31034482759,3189.13793103448,3826.96551724138,4464.79310344828,5102.62068965517,5740.44827586207,6378.27586206897,7016.10344827586,7653.93103448276,8291.75862068965,8929.58620689655,9567.41379310345,10205.2413793103,10843.0689655172,11480.8965517241,12118.724137931,12756.5517241379,13394.3793103448,14032.2068965517,14670.0344827586,15307.8620689655,15945.6896551724,16583.5172413793,17221.3448275862,17859.1724137931,18497,19134.8275862069,19772.6551724138],"y":[0,0,0,0,20,34,146,379,697,694,553,423,271,245,228,186,158,123,75,50,43,30,16,12,10,9,1,4,3,2,0,0],"text":["cut_width(carat, 0.25): (1.12,1.38]<br />count:     0<br />price:     0.0000","cut_width(carat, 0.25): (1.12,1.38]<br />count:     0<br />price:   637.8276","cut_width(carat, 0.25): (1.12,1.38]<br />count:     0<br />price:  1275.6552","cut_width(carat, 0.25): (1.12,1.38]<br />count:     0<br />price:  1913.4828","cut_width(carat, 0.25): (1.12,1.38]<br />count:    20<br />price:  2551.3103","cut_width(carat, 0.25): (1.12,1.38]<br />count:    34<br />price:  3189.1379","cut_width(carat, 0.25): (1.12,1.38]<br />count:   146<br />price:  3826.9655","cut_width(carat, 0.25): (1.12,1.38]<br />count:   379<br />price:  4464.7931","cut_width(carat, 0.25): (1.12,1.38]<br />count:   697<br />price:  5102.6207","cut_width(carat, 0.25): (1.12,1.38]<br />count:   694<br />price:  5740.4483","cut_width(carat, 0.25): (1.12,1.38]<br />count:   553<br />price:  6378.2759","cut_width(carat, 0.25): (1.12,1.38]<br />count:   423<br />price:  7016.1034","cut_width(carat, 0.25): (1.12,1.38]<br />count:   271<br />price:  7653.9310","cut_width(carat, 0.25): (1.12,1.38]<br />count:   245<br />price:  8291.7586","cut_width(carat, 0.25): (1.12,1.38]<br />count:   228<br />price:  8929.5862","cut_width(carat, 0.25): (1.12,1.38]<br />count:   186<br />price:  9567.4138","cut_width(carat, 0.25): (1.12,1.38]<br />count:   158<br />price: 10205.2414","cut_width(carat, 0.25): (1.12,1.38]<br />count:   123<br />price: 10843.0690","cut_width(carat, 0.25): (1.12,1.38]<br />count:    75<br />price: 11480.8966","cut_width(carat, 0.25): (1.12,1.38]<br />count:    50<br />price: 12118.7241","cut_width(carat, 0.25): (1.12,1.38]<br />count:    43<br />price: 12756.5517","cut_width(carat, 0.25): (1.12,1.38]<br />count:    30<br />price: 13394.3793","cut_width(carat, 0.25): (1.12,1.38]<br />count:    16<br />price: 14032.2069","cut_width(carat, 0.25): (1.12,1.38]<br />count:    12<br />price: 14670.0345","cut_width(carat, 0.25): (1.12,1.38]<br />count:    10<br />price: 15307.8621","cut_width(carat, 0.25): (1.12,1.38]<br />count:     9<br />price: 15945.6897","cut_width(carat, 0.25): (1.12,1.38]<br />count:     1<br />price: 16583.5172","cut_width(carat, 0.25): (1.12,1.38]<br />count:     4<br />price: 17221.3448","cut_width(carat, 0.25): (1.12,1.38]<br />count:     3<br />price: 17859.1724","cut_width(carat, 0.25): (1.12,1.38]<br />count:     2<br />price: 18497.0000","cut_width(carat, 0.25): (1.12,1.38]<br />count:     0<br />price: 19134.8276","cut_width(carat, 0.25): (1.12,1.38]<br />count:     0<br />price: 19772.6552"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,189,92,1)","dash":"solid"},"hoveron":"points","name":"(1.12,1.38]","legendgroup":"(1.12,1.38]","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,637.827586206897,1275.65517241379,1913.48275862069,2551.31034482759,3189.13793103448,3826.96551724138,4464.79310344828,5102.62068965517,5740.44827586207,6378.27586206897,7016.10344827586,7653.93103448276,8291.75862068965,8929.58620689655,9567.41379310345,10205.2413793103,10843.0689655172,11480.8965517241,12118.724137931,12756.5517241379,13394.3793103448,14032.2068965517,14670.0344827586,15307.8620689655,15945.6896551724,16583.5172413793,17221.3448275862,17859.1724137931,18497,19134.8275862069,19772.6551724138],"y":[0,0,0,0,0,8,20,21,34,53,119,178,292,285,327,289,274,261,263,180,166,126,138,111,85,59,46,32,16,15,0,0],"text":["cut_width(carat, 0.25): (1.38,1.62]<br />count:     0<br />price:     0.0000","cut_width(carat, 0.25): (1.38,1.62]<br />count:     0<br />price:   637.8276","cut_width(carat, 0.25): (1.38,1.62]<br />count:     0<br />price:  1275.6552","cut_width(carat, 0.25): (1.38,1.62]<br />count:     0<br />price:  1913.4828","cut_width(carat, 0.25): (1.38,1.62]<br />count:     0<br />price:  2551.3103","cut_width(carat, 0.25): (1.38,1.62]<br />count:     8<br />price:  3189.1379","cut_width(carat, 0.25): (1.38,1.62]<br />count:    20<br />price:  3826.9655","cut_width(carat, 0.25): (1.38,1.62]<br />count:    21<br />price:  4464.7931","cut_width(carat, 0.25): (1.38,1.62]<br />count:    34<br />price:  5102.6207","cut_width(carat, 0.25): (1.38,1.62]<br />count:    53<br />price:  5740.4483","cut_width(carat, 0.25): (1.38,1.62]<br />count:   119<br />price:  6378.2759","cut_width(carat, 0.25): (1.38,1.62]<br />count:   178<br />price:  7016.1034","cut_width(carat, 0.25): (1.38,1.62]<br />count:   292<br />price:  7653.9310","cut_width(carat, 0.25): (1.38,1.62]<br />count:   285<br />price:  8291.7586","cut_width(carat, 0.25): (1.38,1.62]<br />count:   327<br />price:  8929.5862","cut_width(carat, 0.25): (1.38,1.62]<br />count:   289<br />price:  9567.4138","cut_width(carat, 0.25): (1.38,1.62]<br />count:   274<br />price: 10205.2414","cut_width(carat, 0.25): (1.38,1.62]<br />count:   261<br />price: 10843.0690","cut_width(carat, 0.25): (1.38,1.62]<br />count:   263<br />price: 11480.8966","cut_width(carat, 0.25): (1.38,1.62]<br />count:   180<br />price: 12118.7241","cut_width(carat, 0.25): (1.38,1.62]<br />count:   166<br />price: 12756.5517","cut_width(carat, 0.25): (1.38,1.62]<br />count:   126<br />price: 13394.3793","cut_width(carat, 0.25): (1.38,1.62]<br />count:   138<br />price: 14032.2069","cut_width(carat, 0.25): (1.38,1.62]<br />count:   111<br />price: 14670.0345","cut_width(carat, 0.25): (1.38,1.62]<br />count:    85<br />price: 15307.8621","cut_width(carat, 0.25): (1.38,1.62]<br />count:    59<br />price: 15945.6897","cut_width(carat, 0.25): (1.38,1.62]<br />count:    46<br />price: 16583.5172","cut_width(carat, 0.25): (1.38,1.62]<br />count:    32<br />price: 17221.3448","cut_width(carat, 0.25): (1.38,1.62]<br />count:    16<br />price: 17859.1724","cut_width(carat, 0.25): (1.38,1.62]<br />count:    15<br />price: 18497.0000","cut_width(carat, 0.25): (1.38,1.62]<br />count:     0<br />price: 19134.8276","cut_width(carat, 0.25): (1.38,1.62]<br />count:     0<br />price: 19772.6552"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,193,167,1)","dash":"solid"},"hoveron":"points","name":"(1.38,1.62]","legendgroup":"(1.38,1.62]","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,637.827586206897,1275.65517241379,1913.48275862069,2551.31034482759,3189.13793103448,3826.96551724138,4464.79310344828,5102.62068965517,5740.44827586207,6378.27586206897,7016.10344827586,7653.93103448276,8291.75862068965,8929.58620689655,9567.41379310345,10205.2413793103,10843.0689655172,11480.8965517241,12118.724137931,12756.5517241379,13394.3793103448,14032.2068965517,14670.0344827586,15307.8620689655,15945.6896551724,16583.5172413793,17221.3448275862,17859.1724137931,18497,19134.8275862069,19772.6551724138],"y":[0,0,0,0,0,0,0,1,6,11,9,24,34,31,57,66,68,82,68,75,62,65,46,33,29,35,25,37,26,22,0,0],"text":["cut_width(carat, 0.25): (1.62,1.88]<br />count:     0<br />price:     0.0000","cut_width(carat, 0.25): (1.62,1.88]<br />count:     0<br />price:   637.8276","cut_width(carat, 0.25): (1.62,1.88]<br />count:     0<br />price:  1275.6552","cut_width(carat, 0.25): (1.62,1.88]<br />count:     0<br />price:  1913.4828","cut_width(carat, 0.25): (1.62,1.88]<br />count:     0<br />price:  2551.3103","cut_width(carat, 0.25): (1.62,1.88]<br />count:     0<br />price:  3189.1379","cut_width(carat, 0.25): (1.62,1.88]<br />count:     0<br />price:  3826.9655","cut_width(carat, 0.25): (1.62,1.88]<br />count:     1<br />price:  4464.7931","cut_width(carat, 0.25): (1.62,1.88]<br />count:     6<br />price:  5102.6207","cut_width(carat, 0.25): (1.62,1.88]<br />count:    11<br />price:  5740.4483","cut_width(carat, 0.25): (1.62,1.88]<br />count:     9<br />price:  6378.2759","cut_width(carat, 0.25): (1.62,1.88]<br />count:    24<br />price:  7016.1034","cut_width(carat, 0.25): (1.62,1.88]<br />count:    34<br />price:  7653.9310","cut_width(carat, 0.25): (1.62,1.88]<br />count:    31<br />price:  8291.7586","cut_width(carat, 0.25): (1.62,1.88]<br />count:    57<br />price:  8929.5862","cut_width(carat, 0.25): (1.62,1.88]<br />count:    66<br />price:  9567.4138","cut_width(carat, 0.25): (1.62,1.88]<br />count:    68<br />price: 10205.2414","cut_width(carat, 0.25): (1.62,1.88]<br />count:    82<br />price: 10843.0690","cut_width(carat, 0.25): (1.62,1.88]<br />count:    68<br />price: 11480.8966","cut_width(carat, 0.25): (1.62,1.88]<br />count:    75<br />price: 12118.7241","cut_width(carat, 0.25): (1.62,1.88]<br />count:    62<br />price: 12756.5517","cut_width(carat, 0.25): (1.62,1.88]<br />count:    65<br />price: 13394.3793","cut_width(carat, 0.25): (1.62,1.88]<br />count:    46<br />price: 14032.2069","cut_width(carat, 0.25): (1.62,1.88]<br />count:    33<br />price: 14670.0345","cut_width(carat, 0.25): (1.62,1.88]<br />count:    29<br />price: 15307.8621","cut_width(carat, 0.25): (1.62,1.88]<br />count:    35<br />price: 15945.6897","cut_width(carat, 0.25): (1.62,1.88]<br />count:    25<br />price: 16583.5172","cut_width(carat, 0.25): (1.62,1.88]<br />count:    37<br />price: 17221.3448","cut_width(carat, 0.25): (1.62,1.88]<br />count:    26<br />price: 17859.1724","cut_width(carat, 0.25): (1.62,1.88]<br />count:    22<br />price: 18497.0000","cut_width(carat, 0.25): (1.62,1.88]<br />count:     0<br />price: 19134.8276","cut_width(carat, 0.25): (1.62,1.88]<br />count:     0<br />price: 19772.6552"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,186,222,1)","dash":"solid"},"hoveron":"points","name":"(1.62,1.88]","legendgroup":"(1.62,1.88]","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,637.827586206897,1275.65517241379,1913.48275862069,2551.31034482759,3189.13793103448,3826.96551724138,4464.79310344828,5102.62068965517,5740.44827586207,6378.27586206897,7016.10344827586,7653.93103448276,8291.75862068965,8929.58620689655,9567.41379310345,10205.2413793103,10843.0689655172,11480.8965517241,12118.724137931,12756.5517241379,13394.3793103448,14032.2068965517,14670.0344827586,15307.8620689655,15945.6896551724,16583.5172413793,17221.3448275862,17859.1724137931,18497,19134.8275862069,19772.6551724138],"y":[0,0,0,0,0,0,0,0,3,7,17,9,5,8,8,27,25,41,61,106,120,117,100,104,125,140,142,120,129,115,1,0],"text":["cut_width(carat, 0.25): (1.88,2.12]<br />count:     0<br />price:     0.0000","cut_width(carat, 0.25): (1.88,2.12]<br />count:     0<br />price:   637.8276","cut_width(carat, 0.25): (1.88,2.12]<br />count:     0<br />price:  1275.6552","cut_width(carat, 0.25): (1.88,2.12]<br />count:     0<br />price:  1913.4828","cut_width(carat, 0.25): (1.88,2.12]<br />count:     0<br />price:  2551.3103","cut_width(carat, 0.25): (1.88,2.12]<br />count:     0<br />price:  3189.1379","cut_width(carat, 0.25): (1.88,2.12]<br />count:     0<br />price:  3826.9655","cut_width(carat, 0.25): (1.88,2.12]<br />count:     0<br />price:  4464.7931","cut_width(carat, 0.25): (1.88,2.12]<br />count:     3<br />price:  5102.6207","cut_width(carat, 0.25): (1.88,2.12]<br />count:     7<br />price:  5740.4483","cut_width(carat, 0.25): (1.88,2.12]<br />count:    17<br />price:  6378.2759","cut_width(carat, 0.25): (1.88,2.12]<br />count:     9<br />price:  7016.1034","cut_width(carat, 0.25): (1.88,2.12]<br />count:     5<br />price:  7653.9310","cut_width(carat, 0.25): (1.88,2.12]<br />count:     8<br />price:  8291.7586","cut_width(carat, 0.25): (1.88,2.12]<br />count:     8<br />price:  8929.5862","cut_width(carat, 0.25): (1.88,2.12]<br />count:    27<br />price:  9567.4138","cut_width(carat, 0.25): (1.88,2.12]<br />count:    25<br />price: 10205.2414","cut_width(carat, 0.25): (1.88,2.12]<br />count:    41<br />price: 10843.0690","cut_width(carat, 0.25): (1.88,2.12]<br />count:    61<br />price: 11480.8966","cut_width(carat, 0.25): (1.88,2.12]<br />count:   106<br />price: 12118.7241","cut_width(carat, 0.25): (1.88,2.12]<br />count:   120<br />price: 12756.5517","cut_width(carat, 0.25): (1.88,2.12]<br />count:   117<br />price: 13394.3793","cut_width(carat, 0.25): (1.88,2.12]<br />count:   100<br />price: 14032.2069","cut_width(carat, 0.25): (1.88,2.12]<br />count:   104<br />price: 14670.0345","cut_width(carat, 0.25): (1.88,2.12]<br />count:   125<br />price: 15307.8621","cut_width(carat, 0.25): (1.88,2.12]<br />count:   140<br />price: 15945.6897","cut_width(carat, 0.25): (1.88,2.12]<br />count:   142<br />price: 16583.5172","cut_width(carat, 0.25): (1.88,2.12]<br />count:   120<br />price: 17221.3448","cut_width(carat, 0.25): (1.88,2.12]<br />count:   129<br />price: 17859.1724","cut_width(carat, 0.25): (1.88,2.12]<br />count:   115<br />price: 18497.0000","cut_width(carat, 0.25): (1.88,2.12]<br />count:     1<br />price: 19134.8276","cut_width(carat, 0.25): (1.88,2.12]<br />count:     0<br />price: 19772.6552"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,166,255,1)","dash":"solid"},"hoveron":"points","name":"(1.88,2.12]","legendgroup":"(1.88,2.12]","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,637.827586206897,1275.65517241379,1913.48275862069,2551.31034482759,3189.13793103448,3826.96551724138,4464.79310344828,5102.62068965517,5740.44827586207,6378.27586206897,7016.10344827586,7653.93103448276,8291.75862068965,8929.58620689655,9567.41379310345,10205.2413793103,10843.0689655172,11480.8965517241,12118.724137931,12756.5517241379,13394.3793103448,14032.2068965517,14670.0344827586,15307.8620689655,15945.6896551724,16583.5172413793,17221.3448275862,17859.1724137931,18497,19134.8275862069,19772.6551724138],"y":[0,0,0,0,0,0,0,0,1,3,5,7,1,3,5,0,3,9,9,15,27,33,48,39,38,46,35,52,47,38,1,0],"text":["cut_width(carat, 0.25): (2.12,2.38]<br />count:     0<br />price:     0.0000","cut_width(carat, 0.25): (2.12,2.38]<br />count:     0<br />price:   637.8276","cut_width(carat, 0.25): (2.12,2.38]<br />count:     0<br />price:  1275.6552","cut_width(carat, 0.25): (2.12,2.38]<br />count:     0<br />price:  1913.4828","cut_width(carat, 0.25): (2.12,2.38]<br />count:     0<br />price:  2551.3103","cut_width(carat, 0.25): (2.12,2.38]<br />count:     0<br />price:  3189.1379","cut_width(carat, 0.25): (2.12,2.38]<br />count:     0<br />price:  3826.9655","cut_width(carat, 0.25): (2.12,2.38]<br />count:     0<br />price:  4464.7931","cut_width(carat, 0.25): (2.12,2.38]<br />count:     1<br />price:  5102.6207","cut_width(carat, 0.25): (2.12,2.38]<br />count:     3<br />price:  5740.4483","cut_width(carat, 0.25): (2.12,2.38]<br />count:     5<br />price:  6378.2759","cut_width(carat, 0.25): (2.12,2.38]<br />count:     7<br />price:  7016.1034","cut_width(carat, 0.25): (2.12,2.38]<br />count:     1<br />price:  7653.9310","cut_width(carat, 0.25): (2.12,2.38]<br />count:     3<br />price:  8291.7586","cut_width(carat, 0.25): (2.12,2.38]<br />count:     5<br />price:  8929.5862","cut_width(carat, 0.25): (2.12,2.38]<br />count:     0<br />price:  9567.4138","cut_width(carat, 0.25): (2.12,2.38]<br />count:     3<br />price: 10205.2414","cut_width(carat, 0.25): (2.12,2.38]<br />count:     9<br />price: 10843.0690","cut_width(carat, 0.25): (2.12,2.38]<br />count:     9<br />price: 11480.8966","cut_width(carat, 0.25): (2.12,2.38]<br />count:    15<br />price: 12118.7241","cut_width(carat, 0.25): (2.12,2.38]<br />count:    27<br />price: 12756.5517","cut_width(carat, 0.25): (2.12,2.38]<br />count:    33<br />price: 13394.3793","cut_width(carat, 0.25): (2.12,2.38]<br />count:    48<br />price: 14032.2069","cut_width(carat, 0.25): (2.12,2.38]<br />count:    39<br />price: 14670.0345","cut_width(carat, 0.25): (2.12,2.38]<br />count:    38<br />price: 15307.8621","cut_width(carat, 0.25): (2.12,2.38]<br />count:    46<br />price: 15945.6897","cut_width(carat, 0.25): (2.12,2.38]<br />count:    35<br />price: 16583.5172","cut_width(carat, 0.25): (2.12,2.38]<br />count:    52<br />price: 17221.3448","cut_width(carat, 0.25): (2.12,2.38]<br />count:    47<br />price: 17859.1724","cut_width(carat, 0.25): (2.12,2.38]<br />count:    38<br />price: 18497.0000","cut_width(carat, 0.25): (2.12,2.38]<br />count:     1<br />price: 19134.8276","cut_width(carat, 0.25): (2.12,2.38]<br />count:     0<br />price: 19772.6552"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(179,133,255,1)","dash":"solid"},"hoveron":"points","name":"(2.12,2.38]","legendgroup":"(2.12,2.38]","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,637.827586206897,1275.65517241379,1913.48275862069,2551.31034482759,3189.13793103448,3826.96551724138,4464.79310344828,5102.62068965517,5740.44827586207,6378.27586206897,7016.10344827586,7653.93103448276,8291.75862068965,8929.58620689655,9567.41379310345,10205.2413793103,10843.0689655172,11480.8965517241,12118.724137931,12756.5517241379,13394.3793103448,14032.2068965517,14670.0344827586,15307.8620689655,15945.6896551724,16583.5172413793,17221.3448275862,17859.1724137931,18497,19134.8275862069,19772.6551724138],"y":[0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,2,1,0,6,5,3,6,13,9,15,23,24,19,21,0,0],"text":["cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price:     0.0000","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price:   637.8276","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price:  1275.6552","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price:  1913.4828","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price:  2551.3103","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price:  3189.1379","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price:  3826.9655","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price:  4464.7931","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price:  5102.6207","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price:  5740.4483","cut_width(carat, 0.25): (2.38,2.62]<br />count:     1<br />price:  6378.2759","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price:  7016.1034","cut_width(carat, 0.25): (2.38,2.62]<br />count:     1<br />price:  7653.9310","cut_width(carat, 0.25): (2.38,2.62]<br />count:     1<br />price:  8291.7586","cut_width(carat, 0.25): (2.38,2.62]<br />count:     1<br />price:  8929.5862","cut_width(carat, 0.25): (2.38,2.62]<br />count:     1<br />price:  9567.4138","cut_width(carat, 0.25): (2.38,2.62]<br />count:     2<br />price: 10205.2414","cut_width(carat, 0.25): (2.38,2.62]<br />count:     1<br />price: 10843.0690","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price: 11480.8966","cut_width(carat, 0.25): (2.38,2.62]<br />count:     6<br />price: 12118.7241","cut_width(carat, 0.25): (2.38,2.62]<br />count:     5<br />price: 12756.5517","cut_width(carat, 0.25): (2.38,2.62]<br />count:     3<br />price: 13394.3793","cut_width(carat, 0.25): (2.38,2.62]<br />count:     6<br />price: 14032.2069","cut_width(carat, 0.25): (2.38,2.62]<br />count:    13<br />price: 14670.0345","cut_width(carat, 0.25): (2.38,2.62]<br />count:     9<br />price: 15307.8621","cut_width(carat, 0.25): (2.38,2.62]<br />count:    15<br />price: 15945.6897","cut_width(carat, 0.25): (2.38,2.62]<br />count:    23<br />price: 16583.5172","cut_width(carat, 0.25): (2.38,2.62]<br />count:    24<br />price: 17221.3448","cut_width(carat, 0.25): (2.38,2.62]<br />count:    19<br />price: 17859.1724","cut_width(carat, 0.25): (2.38,2.62]<br />count:    21<br />price: 18497.0000","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price: 19134.8276","cut_width(carat, 0.25): (2.38,2.62]<br />count:     0<br />price: 19772.6552"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(239,103,235,1)","dash":"solid"},"hoveron":"points","name":"(2.38,2.62]","legendgroup":"(2.38,2.62]","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,637.827586206897,1275.65517241379,1913.48275862069,2551.31034482759,3189.13793103448,3826.96551724138,4464.79310344828,5102.62068965517,5740.44827586207,6378.27586206897,7016.10344827586,7653.93103448276,8291.75862068965,8929.58620689655,9567.41379310345,10205.2413793103,10843.0689655172,11480.8965517241,12118.724137931,12756.5517241379,13394.3793103448,14032.2068965517,14670.0344827586,15307.8620689655,15945.6896551724,16583.5172413793,17221.3448275862,17859.1724137931,18497,19134.8275862069,19772.6551724138],"y":[0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,2,1,1,0,0,1,1,0,2,2,1,5,1,3,0,0],"text":["cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:     0.0000","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:   637.8276","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:  1275.6552","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:  1913.4828","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:  2551.3103","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:  3189.1379","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:  3826.9655","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:  4464.7931","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:  5102.6207","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:  5740.4483","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:  6378.2759","cut_width(carat, 0.25): (2.62,2.88]<br />count:     1<br />price:  7016.1034","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price:  7653.9310","cut_width(carat, 0.25): (2.62,2.88]<br />count:     1<br />price:  8291.7586","cut_width(carat, 0.25): (2.62,2.88]<br />count:     1<br />price:  8929.5862","cut_width(carat, 0.25): (2.62,2.88]<br />count:     1<br />price:  9567.4138","cut_width(carat, 0.25): (2.62,2.88]<br />count:     2<br />price: 10205.2414","cut_width(carat, 0.25): (2.62,2.88]<br />count:     1<br />price: 10843.0690","cut_width(carat, 0.25): (2.62,2.88]<br />count:     1<br />price: 11480.8966","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price: 12118.7241","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price: 12756.5517","cut_width(carat, 0.25): (2.62,2.88]<br />count:     1<br />price: 13394.3793","cut_width(carat, 0.25): (2.62,2.88]<br />count:     1<br />price: 14032.2069","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price: 14670.0345","cut_width(carat, 0.25): (2.62,2.88]<br />count:     2<br />price: 15307.8621","cut_width(carat, 0.25): (2.62,2.88]<br />count:     2<br />price: 15945.6897","cut_width(carat, 0.25): (2.62,2.88]<br />count:     1<br />price: 16583.5172","cut_width(carat, 0.25): (2.62,2.88]<br />count:     5<br />price: 17221.3448","cut_width(carat, 0.25): (2.62,2.88]<br />count:     1<br />price: 17859.1724","cut_width(carat, 0.25): (2.62,2.88]<br />count:     3<br />price: 18497.0000","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price: 19134.8276","cut_width(carat, 0.25): (2.62,2.88]<br />count:     0<br />price: 19772.6552"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(255,99,182,1)","dash":"solid"},"hoveron":"points","name":"(2.62,2.88]","legendgroup":"(2.62,2.88]","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1339.43793103448,21112.0931034483],"tickmode":"array","ticktext":["0","5000","10000","15000","20000"],"tickvals":[0,5000,10000,15000,20000],"categoryorder":"array","categoryarray":["0","5000","10000","15000","20000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"price","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-541.8,11377.8],"tickmode":"array","ticktext":["0","3000","6000","9000"],"tickvals":[0,3000,6000,9000],"categoryorder":"array","categoryarray":["0","3000","6000","9000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"count","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.96751968503937},"annotations":[{"text":"cut_width(carat, 0.25)","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"source":"A","attrs":{"4d4c15a71245":{"colour":{},"x":{},"type":"scatter"}},"cur_data":"4d4c15a71245","visdat":{"4d4c15a71245":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<p><em>2. Visualise the distribution of carat, partitioned by price.</em></p>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb392-1" title="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> price, <span class="dt">y =</span> carat))<span class="op">+</span></a>
<a class="sourceLine" id="cb392-2" title="2"><span class="st">  </span><span class="kw">geom_violin</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">cut_width</span>(price, <span class="dv">2500</span>)))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p><em>3. How does the price distribution of very large diamonds compare to small diamonds. Is it as you expect, or does it surprise you?</em></p>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb393-1" title="1">diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb393-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">percent_rank =</span> <span class="kw">percent_rank</span>(carat),</a>
<a class="sourceLine" id="cb393-3" title="3">         <span class="dt">small =</span> percent_rank <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.025</span>,</a>
<a class="sourceLine" id="cb393-4" title="4">         <span class="dt">large =</span> percent_rank <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.975</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb393-5" title="5"><span class="st">  </span><span class="kw">filter</span>(small <span class="op">|</span><span class="st"> </span>large) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb393-6" title="6"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(large, price)) <span class="op">+</span></a>
<a class="sourceLine" id="cb393-7" title="7"><span class="st">  </span><span class="kw">geom_violin</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb393-8" title="8"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>large)</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<p>Small diamonds have a left-skewed distribution, whereas large diamonds have a right skewed distribution.</p>
<p><em>4. Combine two of the techniques you’ve learned to visualise the combined distribution of cut, carat, and price.</em></p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb394-1" title="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))<span class="op">+</span></a>
<a class="sourceLine" id="cb394-2" title="2"><span class="st">  </span><span class="kw">geom_jitter</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> cut), <span class="dt">alpha =</span> <span class="fl">0.2</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb394-3" title="3"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> cut))</a></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb396-1" title="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))<span class="op">+</span></a>
<a class="sourceLine" id="cb396-2" title="2"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">cut_width</span>(carat, <span class="fl">0.5</span>), <span class="dt">colour =</span> cut))<span class="op">+</span></a>
<a class="sourceLine" id="cb396-3" title="3"><span class="st">  </span><span class="kw">facet_grid</span>(. <span class="op">~</span><span class="st"> </span>cut)</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-33-2.png" width="672" /></p>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb397-1" title="1"><span class="co">##I think this gives a better visualization, but is a little more complicated to produce, I also have the github version of ggplot and do not know whether the `preserve` arg is available in current CRAN installation.</span></a>
<a class="sourceLine" id="cb397-2" title="2">diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb397-3" title="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">carat =</span> <span class="kw">cut</span>(carat, <span class="dv">5</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb397-4" title="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))<span class="op">+</span></a>
<a class="sourceLine" id="cb397-5" title="5"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">interaction</span>(<span class="kw">cut_width</span>(carat, <span class="fl">0.5</span>), cut), <span class="dt">fill =</span> cut), <span class="dt">position =</span> <span class="kw">position_dodge</span>(<span class="dt">preserve =</span> <span class="st">&quot;single&quot;</span>))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-33-3.png" width="672" /></p>
<p><em>5.Two dimensional plots reveal outliers that are not visible in one dimensional plots. For example, some points in the plot below have an unusual combination of x and y values, which makes the points outliers even though their x and y values appear normal when examined separately.</em></p>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb398-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></a>
<a class="sourceLine" id="cb398-2" title="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span></a>
<a class="sourceLine" id="cb398-3" title="3"><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">11</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">11</span>))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<p><em>Why is a scatterplot a better display than a binned plot for this case?</em><br />
Binned plots give less precise value estimates at each point (constrained by the granularity of the binning) so outliers do not show-up as clearly. They also show less precise relationships between the data. The level of variability (at least with boxplots) can also be tougher to intuit. For example, let’s look at the plot below as a binned boxplot.</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb399-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></a>
<a class="sourceLine" id="cb399-2" title="2"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">cut_width</span>(x, <span class="dv">1</span>), <span class="dt">y =</span> y)) <span class="op">+</span></a>
<a class="sourceLine" id="cb399-3" title="3"><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">11</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">11</span>))</a></code></pre></div>
<p><img src="07-exploratory-data-analysis_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="14">
<li id="fn14"><p>not necessarily rounding one way or the other.<a href="ch-7-data-exploration.html#fnref14" class="footnote-back">↩</a></p></li>
<li id="fn15"><p>This is especially important when building things like boxplots whose graphs depend on all points in the graph.<a href="ch-7-data-exploration.html#fnref15" class="footnote-back">↩</a></p></li>
<li id="fn16"><p>Would need to read documentation for details.<a href="ch-7-data-exploration.html#fnref16" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="appendix-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix-2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
