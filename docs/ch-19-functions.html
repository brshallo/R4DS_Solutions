<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Another set of solutions and notes to ‘R for Data Science’</title>
  <meta name="description" content="My notes and solutions to ‘R for Data Science’ by Garrett Grolemund and Hadley Wickham">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Another set of solutions and notes to ‘R for Data Science’" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="My notes and solutions to ‘R for Data Science’ by Garrett Grolemund and Hadley Wickham" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Another set of solutions and notes to ‘R for Data Science’" />
  
  <meta name="twitter:description" content="My notes and solutions to ‘R for Data Science’ by Garrett Grolemund and Hadley Wickham" />
  

<meta name="author" content="Bryan Shalloway">


<meta name="date" content="2019-05-28">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="ch-18-pipes-notes-only.html">
<link rel="next" href="appendix-5.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.8.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.39.2/plotly-latest.min.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.3.1/str_view.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Purpose of this book</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#features-of-this-book"><i class="fa fa-check"></i><b>1.1</b> Features of this book</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#origin-of-this-book"><i class="fa fa-check"></i><b>1.2</b> Origin of this book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="plug-for-r4ds.html"><a href="plug-for-r4ds.html"><i class="fa fa-check"></i><b>2</b> Plug for R4DS</a><ul>
<li class="chapter" data-level="2.1" data-path="plug-for-r4ds.html"><a href="plug-for-r4ds.html#plug-for-r4ds-1"><i class="fa fa-check"></i><b>2.1</b> Plug for R4DS</a></li>
<li class="chapter" data-level="2.2" data-path="plug-for-r4ds.html"><a href="plug-for-r4ds.html#acknowledgements"><i class="fa fa-check"></i><b>2.2</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html"><i class="fa fa-check"></i><b>3</b> ch 3: Data visualization</a><ul>
<li class="chapter" data-level="3.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#first-steps"><i class="fa fa-check"></i><b>3.1</b> 3.2: First steps</a><ul>
<li class="chapter" data-level="3.1.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section"><i class="fa fa-check"></i><b>3.1.1</b> 3.2.4</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#aesthetic-mappings"><i class="fa fa-check"></i><b>3.2</b> 3.3: Aesthetic mappings</a><ul>
<li class="chapter" data-level="3.2.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-1"><i class="fa fa-check"></i><b>3.2.1</b> 3.3.1.</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#facets"><i class="fa fa-check"></i><b>3.3</b> 3.5: Facets</a><ul>
<li class="chapter" data-level="3.3.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-2"><i class="fa fa-check"></i><b>3.3.1</b> 3.5.1.</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#geometric-objects"><i class="fa fa-check"></i><b>3.4</b> 3.6: Geometric Objects</a><ul>
<li class="chapter" data-level="3.4.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-3"><i class="fa fa-check"></i><b>3.4.1</b> 3.6.1</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#statistical-transformations"><i class="fa fa-check"></i><b>3.5</b> 3.7: statistical transformations</a><ul>
<li class="chapter" data-level="3.5.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-4"><i class="fa fa-check"></i><b>3.5.1</b> 3.7.1.</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#position-adjjustment"><i class="fa fa-check"></i><b>3.6</b> 3.8: Position Adjjustment</a><ul>
<li class="chapter" data-level="3.6.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-5"><i class="fa fa-check"></i><b>3.6.1</b> 3.8.1.</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#coordinate-systems"><i class="fa fa-check"></i><b>3.7</b> 3.9: Coordinate systems</a><ul>
<li class="chapter" data-level="3.7.1" data-path="ch-3-data-visualization.html"><a href="ch-3-data-visualization.html#section-6"><i class="fa fa-check"></i><b>3.7.1</b> 3.9.1.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>4</b> Appendix</a><ul>
<li class="chapter" data-level="4.1" data-path="appendix.html"><a href="appendix.html#extension"><i class="fa fa-check"></i><b>4.1</b> 3.7.1.1 extension</a></li>
<li class="chapter" data-level="4.2" data-path="appendix.html"><a href="appendix.html#position-adustments"><i class="fa fa-check"></i><b>4.2</b> 3.8: Position adustments</a></li>
<li class="chapter" data-level="4.3" data-path="appendix.html"><a href="appendix.html#coordinate-systems-1"><i class="fa fa-check"></i><b>4.3</b> 3.9: Coordinate systems</a></li>
<li class="chapter" data-level="4.4" data-path="appendix.html"><a href="appendix.html#add-in-table-of-contents-and-other-details"><i class="fa fa-check"></i><b>4.4</b> add in table of contents and other details…</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html"><i class="fa fa-check"></i><b>5</b> ch. 5 Data transformations</a><ul>
<li class="chapter" data-level="5.1" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#filter-rows"><i class="fa fa-check"></i><b>5.1</b> 5.2: Filter rows</a></li>
<li class="chapter" data-level="5.2" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#section-7"><i class="fa fa-check"></i><b>5.2</b> 5.2.4.</a><ul>
<li class="chapter" data-level="5.2.1" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#section-8"><i class="fa fa-check"></i><b>5.2.1</b> 5.3.1.</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#grouped-summaries"><i class="fa fa-check"></i><b>5.3</b> 5.6: Grouped summaries</a><ul>
<li class="chapter" data-level="5.3.1" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#section-9"><i class="fa fa-check"></i><b>5.3.1</b> 5.6.7.</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#grouped-mutates-and-filters"><i class="fa fa-check"></i><b>5.4</b> Grouped mutates (and filters)</a><ul>
<li class="chapter" data-level="5.4.1" data-path="ch-5-data-transformations.html"><a href="ch-5-data-transformations.html#section-10"><i class="fa fa-check"></i><b>5.4.1</b> 5.7.1.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="appendix-1.html"><a href="appendix-1.html"><i class="fa fa-check"></i><b>6</b> Appendix</a><ul>
<li class="chapter" data-level="6.1" data-path="appendix-1.html"><a href="appendix-1.html#section-11"><i class="fa fa-check"></i><b>6.1</b> 5.4.1.3.</a></li>
<li class="chapter" data-level="6.2" data-path="appendix-1.html"><a href="appendix-1.html#section-12"><i class="fa fa-check"></i><b>6.2</b> 5.5.2.1.</a></li>
<li class="chapter" data-level="6.3" data-path="appendix-1.html"><a href="appendix-1.html#section-13"><i class="fa fa-check"></i><b>6.3</b> 5.5.2.2</a><ul>
<li class="chapter" data-level="6.3.1" data-path="appendix-1.html"><a href="appendix-1.html#closer-look-at-air_time"><i class="fa fa-check"></i><b>6.3.1</b> Closer look at <code>air_time</code></a></li>
<li class="chapter" data-level="6.3.2" data-path="appendix-1.html"><a href="appendix-1.html#other-plots-with-air_time"><i class="fa fa-check"></i><b>6.3.2</b> Other plots with <code>air_time</code></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="appendix-1.html"><a href="appendix-1.html#section-14"><i class="fa fa-check"></i><b>6.4</b> 5.6.7.1.</a></li>
<li class="chapter" data-level="6.5" data-path="appendix-1.html"><a href="appendix-1.html#section-15"><i class="fa fa-check"></i><b>6.5</b> 5.6.7.4.</a></li>
<li class="chapter" data-level="6.6" data-path="appendix-1.html"><a href="appendix-1.html#section-16"><i class="fa fa-check"></i><b>6.6</b> 5.6.7.5.</a><ul>
<li class="chapter" data-level="6.6.1" data-path="appendix-1.html"><a href="appendix-1.html#modeling-approach"><i class="fa fa-check"></i><b>6.6.1</b> Modeling approach</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="appendix-1.html"><a href="appendix-1.html#section-17"><i class="fa fa-check"></i><b>6.7</b> 5.6.7.6.</a></li>
<li class="chapter" data-level="6.8" data-path="appendix-1.html"><a href="appendix-1.html#section-18"><i class="fa fa-check"></i><b>6.8</b> 5.7.1.6.</a></li>
<li class="chapter" data-level="6.9" data-path="appendix-1.html"><a href="appendix-1.html#section-19"><i class="fa fa-check"></i><b>6.9</b> 5.7.1.5</a></li>
<li class="chapter" data-level="6.10" data-path="appendix-1.html"><a href="appendix-1.html#section-20"><i class="fa fa-check"></i><b>6.10</b> 5.7.1.8.</a></li>
<li class="chapter" data-level="6.11" data-path="appendix-1.html"><a href="appendix-1.html#other"><i class="fa fa-check"></i><b>6.11</b> Other</a><ul>
<li class="chapter" data-level="6.11.1" data-path="appendix-1.html"><a href="appendix-1.html#on-piping-dots"><i class="fa fa-check"></i><b>6.11.1</b> On piping dots</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="appendix-1.html"><a href="appendix-1.html#plotly"><i class="fa fa-check"></i><b>6.12</b> plotly</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html"><i class="fa fa-check"></i><b>7</b> ch. 7: Data exploration</a><ul>
<li class="chapter" data-level="7.1" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#variation"><i class="fa fa-check"></i><b>7.1</b> 7.3. Variation</a><ul>
<li class="chapter" data-level="7.1.1" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#section-21"><i class="fa fa-check"></i><b>7.1.1</b> 7.3.4.</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#missing-values"><i class="fa fa-check"></i><b>7.2</b> 7.4. Missing values</a><ul>
<li class="chapter" data-level="7.2.1" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#section-22"><i class="fa fa-check"></i><b>7.2.1</b> 7.4.1.</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#covariation"><i class="fa fa-check"></i><b>7.3</b> 7.5. Covariation</a><ul>
<li class="chapter" data-level="7.3.1" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#section-23"><i class="fa fa-check"></i><b>7.3.1</b> 7.5.1.1.</a></li>
<li class="chapter" data-level="7.3.2" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#section-24"><i class="fa fa-check"></i><b>7.3.2</b> 7.5.2.1.</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#two-continuous-variables"><i class="fa fa-check"></i><b>7.4</b> 7.5.3 Two continuous variables</a><ul>
<li class="chapter" data-level="7.4.1" data-path="ch-7-data-exploration.html"><a href="ch-7-data-exploration.html#section-25"><i class="fa fa-check"></i><b>7.4.1</b> 7.5.3.1.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="appendix-2.html"><a href="appendix-2.html"><i class="fa fa-check"></i><b>8</b> Appendix</a><ul>
<li class="chapter" data-level="8.1" data-path="appendix-2.html"><a href="appendix-2.html#section-26"><i class="fa fa-check"></i><b>8.1</b> 7.5.2.1.2.</a></li>
<li class="chapter" data-level="8.2" data-path="appendix-2.html"><a href="appendix-2.html#section-27"><i class="fa fa-check"></i><b>8.2</b> 7.5.3.1.4.</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ch-10-tibbles.html"><a href="ch-10-tibbles.html"><i class="fa fa-check"></i><b>9</b> ch. 10: Tibbles</a><ul>
<li class="chapter" data-level="9.1" data-path="ch-10-tibbles.html"><a href="ch-10-tibbles.html#section-28"><i class="fa fa-check"></i><b>9.1</b> 10.5</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="ch-11-data-import.html"><a href="ch-11-data-import.html"><i class="fa fa-check"></i><b>10</b> ch. 11: Data import</a><ul>
<li class="chapter" data-level="10.1" data-path="ch-11-data-import.html"><a href="ch-11-data-import.html#section-29"><i class="fa fa-check"></i><b>10.1</b> 11.2.2.</a></li>
<li class="chapter" data-level="10.2" data-path="ch-11-data-import.html"><a href="ch-11-data-import.html#section-30"><i class="fa fa-check"></i><b>10.2</b> 11.3.5.</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html"><i class="fa fa-check"></i><b>11</b> ch. 12: Tidy data</a><ul>
<li class="chapter" data-level="11.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#tidy-data"><i class="fa fa-check"></i><b>11.1</b> 12.2: Tidy data</a><ul>
<li class="chapter" data-level="11.1.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#section-31"><i class="fa fa-check"></i><b>11.1.1</b> 12.2.1.</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#spreading-and-gathering"><i class="fa fa-check"></i><b>11.2</b> 12.3: Spreading and gathering</a><ul>
<li class="chapter" data-level="11.2.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#section-32"><i class="fa fa-check"></i><b>11.2.1</b> 12.3.3.</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#separating-and-uniting"><i class="fa fa-check"></i><b>11.3</b> 12.4: Separating and uniting</a><ul>
<li class="chapter" data-level="11.3.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#section-33"><i class="fa fa-check"></i><b>11.3.1</b> 12.4.3.</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#missing-values-1"><i class="fa fa-check"></i><b>11.4</b> 12.5: missing values</a><ul>
<li class="chapter" data-level="11.4.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#section-34"><i class="fa fa-check"></i><b>11.4.1</b> 12.5.1.</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#case-study"><i class="fa fa-check"></i><b>11.5</b> 12.6 Case Study</a><ul>
<li class="chapter" data-level="11.5.1" data-path="ch-12-tidy-data.html"><a href="ch-12-tidy-data.html#section-35"><i class="fa fa-check"></i><b>11.5.1</b> 12.6.1.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html"><i class="fa fa-check"></i><b>12</b> ch. 13: Relational data</a><ul>
<li class="chapter" data-level="12.1" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#nycflights13"><i class="fa fa-check"></i><b>12.1</b> 13.2 nycflights13</a><ul>
<li class="chapter" data-level="12.1.1" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#section-36"><i class="fa fa-check"></i><b>12.1.1</b> 13.2.1</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#keys"><i class="fa fa-check"></i><b>12.2</b> 13.3 Keys</a><ul>
<li class="chapter" data-level="12.2.1" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#section-37"><i class="fa fa-check"></i><b>12.2.1</b> 13.3.1</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>12.3</b> 13.4 Mutating joins</a><ul>
<li class="chapter" data-level="12.3.1" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#section-38"><i class="fa fa-check"></i><b>12.3.1</b> 13.4.6</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>12.4</b> 13.5 Filtering joins</a><ul>
<li class="chapter" data-level="12.4.1" data-path="ch-13-relational-data.html"><a href="ch-13-relational-data.html#section-39"><i class="fa fa-check"></i><b>12.4.1</b> 13.5.1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="ch-14-strings.html"><a href="ch-14-strings.html"><i class="fa fa-check"></i><b>13</b> ch. 14: Strings</a><ul>
<li class="chapter" data-level="13.1" data-path="ch-14-strings.html"><a href="ch-14-strings.html#string-basics"><i class="fa fa-check"></i><b>13.1</b> 14.2: String basics</a><ul>
<li class="chapter" data-level="13.1.1" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-40"><i class="fa fa-check"></i><b>13.1.1</b> 14.2.5</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="ch-14-strings.html"><a href="ch-14-strings.html#matching-patterns-w-regex"><i class="fa fa-check"></i><b>13.2</b> 14.3: Matching patterns w/ regex</a><ul>
<li class="chapter" data-level="13.2.1" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-41"><i class="fa fa-check"></i><b>13.2.1</b> 14.3.1.1</a></li>
<li class="chapter" data-level="13.2.2" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-42"><i class="fa fa-check"></i><b>13.2.2</b> 14.3.2.1</a></li>
<li class="chapter" data-level="13.2.3" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-43"><i class="fa fa-check"></i><b>13.2.3</b> 14.3.3.1</a></li>
<li class="chapter" data-level="13.2.4" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-44"><i class="fa fa-check"></i><b>13.2.4</b> 14.3.4.1</a></li>
<li class="chapter" data-level="13.2.5" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-45"><i class="fa fa-check"></i><b>13.2.5</b> 14.3.5.1</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="ch-14-strings.html"><a href="ch-14-strings.html#tools"><i class="fa fa-check"></i><b>13.3</b> 14.4 Tools</a><ul>
<li class="chapter" data-level="13.3.1" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-46"><i class="fa fa-check"></i><b>13.3.1</b> 14.4.2</a></li>
<li class="chapter" data-level="13.3.2" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-47"><i class="fa fa-check"></i><b>13.3.2</b> 14.4.3.1</a></li>
<li class="chapter" data-level="13.3.3" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-48"><i class="fa fa-check"></i><b>13.3.3</b> 14.4.4.1</a></li>
<li class="chapter" data-level="13.3.4" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-49"><i class="fa fa-check"></i><b>13.3.4</b> 14.4.5.1</a></li>
<li class="chapter" data-level="13.3.5" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-50"><i class="fa fa-check"></i><b>13.3.5</b> 14.4.6.1</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="ch-14-strings.html"><a href="ch-14-strings.html#other-types-of-patterns"><i class="fa fa-check"></i><b>13.4</b> 14.5: Other types of patterns</a><ul>
<li class="chapter" data-level="13.4.1" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-51"><i class="fa fa-check"></i><b>13.4.1</b> 14.5.1</a></li>
<li class="chapter" data-level="13.4.2" data-path="ch-14-strings.html"><a href="ch-14-strings.html#section-52"><i class="fa fa-check"></i><b>13.4.2</b> 14.7.1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ch-15-factors.html"><a href="ch-15-factors.html"><i class="fa fa-check"></i><b>14</b> ch. 15: Factors</a><ul>
<li class="chapter" data-level="14.1" data-path="ch-15-factors.html"><a href="ch-15-factors.html#modifying-factor-order"><i class="fa fa-check"></i><b>14.1</b> 15.4: Modifying factor order</a><ul>
<li class="chapter" data-level="14.1.1" data-path="ch-15-factors.html"><a href="ch-15-factors.html#section-53"><i class="fa fa-check"></i><b>14.1.1</b> 15.3.1</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="ch-15-factors.html"><a href="ch-15-factors.html#modifying-factor-order-1"><i class="fa fa-check"></i><b>14.2</b> 15.4: Modifying factor order</a><ul>
<li class="chapter" data-level="14.2.1" data-path="ch-15-factors.html"><a href="ch-15-factors.html#section-54"><i class="fa fa-check"></i><b>14.2.1</b> 15.4.1</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="ch-15-factors.html"><a href="ch-15-factors.html#modifying-factor-levels"><i class="fa fa-check"></i><b>14.3</b> 15.5: Modifying factor levels</a><ul>
<li class="chapter" data-level="14.3.1" data-path="ch-15-factors.html"><a href="ch-15-factors.html#section-55"><i class="fa fa-check"></i><b>14.3.1</b> 15.5.1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="appendix-3.html"><a href="appendix-3.html"><i class="fa fa-check"></i><b>15</b> Appendix</a><ul>
<li class="chapter" data-level="15.1" data-path="appendix-3.html"><a href="appendix-3.html#viewing-all-levels"><i class="fa fa-check"></i><b>15.1</b> Viewing all levels</a></li>
<li class="chapter" data-level="15.2" data-path="appendix-3.html"><a href="appendix-3.html#percentage-na-each-level"><i class="fa fa-check"></i><b>15.2</b> Percentage NA each level</a></li>
<li class="chapter" data-level="15.3" data-path="appendix-3.html"><a href="appendix-3.html#print-all-levels-of-tibble"><i class="fa fa-check"></i><b>15.3</b> Print all levels of tibble</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html"><i class="fa fa-check"></i><b>16</b> ch. 16: Dates and times</a><ul>
<li class="chapter" data-level="16.1" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#creating-datetimes"><i class="fa fa-check"></i><b>16.1</b> 16.2: Creating date/times</a><ul>
<li class="chapter" data-level="16.1.1" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#section-56"><i class="fa fa-check"></i><b>16.1.1</b> 16.2.4</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#date-time-components"><i class="fa fa-check"></i><b>16.2</b> 16.3: Date-time components</a><ul>
<li class="chapter" data-level="16.2.1" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#section-57"><i class="fa fa-check"></i><b>16.2.1</b> 16.3.4</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#time-spans"><i class="fa fa-check"></i><b>16.3</b> 16.4: Time spans</a><ul>
<li class="chapter" data-level="16.3.1" data-path="ch-16-dates-and-times.html"><a href="ch-16-dates-and-times.html#section-58"><i class="fa fa-check"></i><b>16.3.1</b> 16.4.5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="appendix-4.html"><a href="appendix-4.html"><i class="fa fa-check"></i><b>17</b> Appendix</a><ul>
<li class="chapter" data-level="17.1" data-path="appendix-4.html"><a href="appendix-4.html#section-59"><i class="fa fa-check"></i><b>17.1</b> 16.3.4.1</a></li>
<li class="chapter" data-level="17.2" data-path="appendix-4.html"><a href="appendix-4.html#section-60"><i class="fa fa-check"></i><b>17.2</b> 16.3.4.3</a></li>
<li class="chapter" data-level="17.3" data-path="appendix-4.html"><a href="appendix-4.html#section-61"><i class="fa fa-check"></i><b>17.3</b> 16.3.4.4</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="ch-18-pipes-notes-only.html"><a href="ch-18-pipes-notes-only.html"><i class="fa fa-check"></i><b>18</b> ch. 18: Pipes (notes only)</a></li>
<li class="chapter" data-level="19" data-path="ch-19-functions.html"><a href="ch-19-functions.html"><i class="fa fa-check"></i><b>19</b> ch. 19: Functions</a><ul>
<li class="chapter" data-level="19.1" data-path="ch-19-functions.html"><a href="ch-19-functions.html#when-should-you-write-a-function"><i class="fa fa-check"></i><b>19.1</b> 19.2: When should you write a function?</a><ul>
<li class="chapter" data-level="19.1.1" data-path="ch-19-functions.html"><a href="ch-19-functions.html#section-62"><i class="fa fa-check"></i><b>19.1.1</b> 19.2.1</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="ch-19-functions.html"><a href="ch-19-functions.html#functions-are-for-humans-and-computers"><i class="fa fa-check"></i><b>19.2</b> 19.3: Functions are for humans and computers</a><ul>
<li class="chapter" data-level="19.2.1" data-path="ch-19-functions.html"><a href="ch-19-functions.html#section-63"><i class="fa fa-check"></i><b>19.2.1</b> 19.3.1</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="ch-19-functions.html"><a href="ch-19-functions.html#conditional-execution"><i class="fa fa-check"></i><b>19.3</b> 19.4: Conditional execution</a><ul>
<li class="chapter" data-level="19.3.1" data-path="ch-19-functions.html"><a href="ch-19-functions.html#section-64"><i class="fa fa-check"></i><b>19.3.1</b> 19.4.4</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="ch-19-functions.html"><a href="ch-19-functions.html#function-arguments"><i class="fa fa-check"></i><b>19.4</b> 19.5: Function arguments</a><ul>
<li class="chapter" data-level="19.4.1" data-path="ch-19-functions.html"><a href="ch-19-functions.html#section-65"><i class="fa fa-check"></i><b>19.4.1</b> 19.5.5</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="ch-19-functions.html"><a href="ch-19-functions.html#return-values"><i class="fa fa-check"></i><b>19.5</b> 19.6: Return values</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="appendix-5.html"><a href="appendix-5.html"><i class="fa fa-check"></i><b>20</b> Appendix</a><ul>
<li class="chapter" data-level="20.1" data-path="appendix-5.html"><a href="appendix-5.html#section-66"><i class="fa fa-check"></i><b>20.1</b> 19.2.1.4</a></li>
<li class="chapter" data-level="20.2" data-path="appendix-5.html"><a href="appendix-5.html#changing-values-with-indexes"><i class="fa fa-check"></i><b>20.2</b> Changing values with indexes</a><ul>
<li class="chapter" data-level="20.2.1" data-path="appendix-5.html"><a href="appendix-5.html#applying-indexing-to-dfs"><i class="fa fa-check"></i><b>20.2.1</b> Applying indexing to dfs</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="appendix-5.html"><a href="appendix-5.html#better-than-ifelse"><i class="fa fa-check"></i><b>20.3</b> Better than <code>ifelse()</code>?</a></li>
<li class="chapter" data-level="20.4" data-path="appendix-5.html"><a href="appendix-5.html#dplyr-and-functions"><i class="fa fa-check"></i><b>20.4</b> Dplyr and functions</a></li>
<li class="chapter" data-level="20.5" data-path="appendix-5.html"><a href="appendix-5.html#section-67"><i class="fa fa-check"></i><b>20.5</b> 19.2.3.5</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html"><i class="fa fa-check"></i><b>21</b> ch. 20: Vectors</a><ul>
<li class="chapter" data-level="21.0.1" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#section-68"><i class="fa fa-check"></i><b>21.0.1</b> 20.3.5</a></li>
<li class="chapter" data-level="21.1" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#using-atomic-vectors"><i class="fa fa-check"></i><b>21.1</b> 20.4: Using atomic vectors</a><ul>
<li class="chapter" data-level="21.1.1" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#section-69"><i class="fa fa-check"></i><b>21.1.1</b> 20.4.6</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#recursive-vectors-lists"><i class="fa fa-check"></i><b>21.2</b> 20.5: Recursive vectors (lists)</a><ul>
<li class="chapter" data-level="21.2.1" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#section-70"><i class="fa fa-check"></i><b>21.2.1</b> 20.5.4</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>21.3</b> 20.7: Augmented vectors</a><ul>
<li class="chapter" data-level="21.3.1" data-path="ch-20-vectors.html"><a href="ch-20-vectors.html#section-71"><i class="fa fa-check"></i><b>21.3.1</b> 20.7.4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="appendix-6.html"><a href="appendix-6.html"><i class="fa fa-check"></i><b>22</b> Appendix</a><ul>
<li class="chapter" data-level="22.1" data-path="appendix-6.html"><a href="appendix-6.html#subsetting-nested-lists"><i class="fa fa-check"></i><b>22.1</b> subsetting nested lists</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html"><i class="fa fa-check"></i><b>23</b> ch. 21: Iteration</a><ul>
<li class="chapter" data-level="23.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#for-loops"><i class="fa fa-check"></i><b>23.1</b> 21.2: For loops</a><ul>
<li class="chapter" data-level="23.1.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#section-72"><i class="fa fa-check"></i><b>23.1.1</b> 21.2.1</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#for-loop-variations"><i class="fa fa-check"></i><b>23.2</b> 21.3 For loop variations</a><ul>
<li class="chapter" data-level="23.2.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#section-73"><i class="fa fa-check"></i><b>23.2.1</b> 21.3.5</a></li>
</ul></li>
<li class="chapter" data-level="23.3" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#for-loops-vs.-functionals"><i class="fa fa-check"></i><b>23.3</b> 21.4: For loops vs. functionals</a><ul>
<li class="chapter" data-level="23.3.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#section-74"><i class="fa fa-check"></i><b>23.3.1</b> 21.4.1</a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#the-map-functions"><i class="fa fa-check"></i><b>23.4</b> 21.5: The map functions</a><ul>
<li class="chapter" data-level="23.4.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#section-75"><i class="fa fa-check"></i><b>23.4.1</b> 21.5.3</a></li>
</ul></li>
<li class="chapter" data-level="23.5" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i><b>23.5</b> 21.9 Other patterns of for loops</a><ul>
<li class="chapter" data-level="23.5.1" data-path="ch-21-iteration.html"><a href="ch-21-iteration.html#section-76"><i class="fa fa-check"></i><b>23.5.1</b> 21.9.3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="appendix-7.html"><a href="appendix-7.html"><i class="fa fa-check"></i><b>24</b> Appendix</a><ul>
<li class="chapter" data-level="24.1" data-path="appendix-7.html"><a href="appendix-7.html#section-77"><i class="fa fa-check"></i><b>24.1</b> 21.3.5.1</a><ul>
<li class="chapter" data-level="24.1.1" data-path="appendix-7.html"><a href="appendix-7.html#using-map"><i class="fa fa-check"></i><b>24.1.1</b> Using map</a></li>
<li class="chapter" data-level="24.1.2" data-path="appendix-7.html"><a href="appendix-7.html#plot-of-names"><i class="fa fa-check"></i><b>24.1.2</b> Plot of names</a></li>
<li class="chapter" data-level="24.1.3" data-path="appendix-7.html"><a href="appendix-7.html#csv-other-example"><i class="fa fa-check"></i><b>24.1.3</b> csv other example</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="appendix-7.html"><a href="appendix-7.html#with-purrr"><i class="fa fa-check"></i><b>24.2</b> 21.3.5.2 with purrr</a></li>
<li class="chapter" data-level="24.3" data-path="appendix-7.html"><a href="appendix-7.html#mirroring-keep"><i class="fa fa-check"></i><b>24.3</b> 21.9 mirroring keep</a></li>
<li class="chapter" data-level="24.4" data-path="appendix-7.html"><a href="appendix-7.html#invoke-examples"><i class="fa fa-check"></i><b>24.4</b> invoke examples</a></li>
<li class="chapter" data-level="24.5" data-path="appendix-7.html"><a href="appendix-7.html#indexing-nms-caution"><i class="fa fa-check"></i><b>24.5</b> indexing nms caution</a></li>
<li class="chapter" data-level="24.6" data-path="appendix-7.html"><a href="appendix-7.html#in-class-notes"><i class="fa fa-check"></i><b>24.6</b> in class notes</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html"><i class="fa fa-check"></i><b>25</b> ch. 23: Model basics</a><ul>
<li class="chapter" data-level="25.1" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#a-simple-model"><i class="fa fa-check"></i><b>25.1</b> 23.2: A simple model</a><ul>
<li class="chapter" data-level="25.1.1" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#section-78"><i class="fa fa-check"></i><b>25.1.1</b> 23.2.1</a></li>
</ul></li>
<li class="chapter" data-level="25.2" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#visualising-models"><i class="fa fa-check"></i><b>25.2</b> 23.3: Visualising models</a><ul>
<li class="chapter" data-level="25.2.1" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#section-79"><i class="fa fa-check"></i><b>25.2.1</b> 23.3.3</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#formulas-and-model-families"><i class="fa fa-check"></i><b>25.3</b> 23.4: Formulas and model families</a><ul>
<li class="chapter" data-level="25.3.1" data-path="ch-23-model-basics.html"><a href="ch-23-model-basics.html#section-80"><i class="fa fa-check"></i><b>25.3.1</b> 23.4.5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="appendix-8.html"><a href="appendix-8.html"><i class="fa fa-check"></i><b>26</b> Appendix</a><ul>
<li class="chapter" data-level="26.1" data-path="appendix-8.html"><a href="appendix-8.html#other-model-families"><i class="fa fa-check"></i><b>26.1</b> Other model families</a></li>
<li class="chapter" data-level="26.2" data-path="appendix-8.html"><a href="appendix-8.html#book-example"><i class="fa fa-check"></i><b>26.2</b> 23.2 book example</a><ul>
<li class="chapter" data-level="26.2.1" data-path="appendix-8.html"><a href="appendix-8.html#tidy-grid_space"><i class="fa fa-check"></i><b>26.2.1</b> tidy grid_space</a></li>
</ul></li>
<li class="chapter" data-level="26.3" data-path="appendix-8.html"><a href="appendix-8.html#section-81"><i class="fa fa-check"></i><b>26.3</b> 23.4.5.4</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="ch-24-model-building.html"><a href="ch-24-model-building.html"><i class="fa fa-check"></i><b>27</b> ch. 24: Model building</a><ul>
<li class="chapter" data-level="27.1" data-path="ch-24-model-building.html"><a href="ch-24-model-building.html#why-are-low-quality-diamonds-more-expensive"><i class="fa fa-check"></i><b>27.1</b> 24.2: Why are low quality diamonds more expensive?</a><ul>
<li class="chapter" data-level="27.1.1" data-path="ch-24-model-building.html"><a href="ch-24-model-building.html#section-82"><i class="fa fa-check"></i><b>27.1.1</b> 24.2.3</a></li>
</ul></li>
<li class="chapter" data-level="27.2" data-path="ch-24-model-building.html"><a href="ch-24-model-building.html#what-affects-the-number-of-daily-flights"><i class="fa fa-check"></i><b>27.2</b> 24.3 What affects the number of daily flights?</a><ul>
<li class="chapter" data-level="27.2.1" data-path="ch-24-model-building.html"><a href="ch-24-model-building.html#section-83"><i class="fa fa-check"></i><b>27.2.1</b> 24.3.5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="28" data-path="appendix-9.html"><a href="appendix-9.html"><i class="fa fa-check"></i><b>28</b> Appendix</a><ul>
<li class="chapter" data-level="28.1" data-path="appendix-9.html"><a href="appendix-9.html#section-84"><i class="fa fa-check"></i><b>28.1</b> 24.2.3.3</a></li>
<li class="chapter" data-level="28.2" data-path="appendix-9.html"><a href="appendix-9.html#section-85"><i class="fa fa-check"></i><b>28.2</b> 24.2.3.4</a><ul>
<li class="chapter" data-level="28.2.1" data-path="appendix-9.html"><a href="appendix-9.html#heteroskedasticity"><i class="fa fa-check"></i><b>28.2.1</b> heteroskedasticity</a></li>
<li class="chapter" data-level="28.2.2" data-path="appendix-9.html"><a href="appendix-9.html#rsquared-on-logged-values"><i class="fa fa-check"></i><b>28.2.2</b> rsquared on logged values</a></li>
</ul></li>
<li class="chapter" data-level="28.3" data-path="appendix-9.html"><a href="appendix-9.html#section-86"><i class="fa fa-check"></i><b>28.3</b> 24.2.3.1</a><ul>
<li class="chapter" data-level="28.3.1" data-path="appendix-9.html"><a href="appendix-9.html#more-notes-on-logs"><i class="fa fa-check"></i><b>28.3.1</b> More notes on logs</a></li>
<li class="chapter" data-level="28.3.2" data-path="appendix-9.html"><a href="appendix-9.html#carat-more-clumped-than-price"><i class="fa fa-check"></i><b>28.3.2</b> carat more clumped than price</a></li>
</ul></li>
<li class="chapter" data-level="28.4" data-path="appendix-9.html"><a href="appendix-9.html#logs-simulated-examples"><i class="fa fa-check"></i><b>28.4</b> Logs (simulated examples)</a><ul>
<li class="chapter" data-level="28.4.1" data-path="appendix-9.html"><a href="appendix-9.html#exponential-relationship"><i class="fa fa-check"></i><b>28.4.1</b> Exponential relationship</a></li>
<li class="chapter" data-level="28.4.2" data-path="appendix-9.html"><a href="appendix-9.html#log-log-relationship"><i class="fa fa-check"></i><b>28.4.2</b> Log log relationship</a></li>
</ul></li>
<li class="chapter" data-level="28.5" data-path="appendix-9.html"><a href="appendix-9.html#diamonds-data-review"><i class="fa fa-check"></i><b>28.5</b> Diamonds data review</a><ul>
<li class="chapter" data-level="28.5.1" data-path="appendix-9.html"><a href="appendix-9.html#carat-by-mean-table-value"><i class="fa fa-check"></i><b>28.5.1</b> carat by mean <code>table</code> value</a></li>
<li class="chapter" data-level="28.5.2" data-path="appendix-9.html"><a href="appendix-9.html#cutoff-part-1"><i class="fa fa-check"></i><b>28.5.2</b> Cutoff, Part 1</a></li>
<li class="chapter" data-level="28.5.3" data-path="appendix-9.html"><a href="appendix-9.html#cutoff-part-2"><i class="fa fa-check"></i><b>28.5.3</b> Cutoff, Part 2</a></li>
</ul></li>
<li class="chapter" data-level="28.6" data-path="appendix-9.html"><a href="appendix-9.html#section-87"><i class="fa fa-check"></i><b>28.6</b> 25.3.5.4</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html"><i class="fa fa-check"></i><b>29</b> ch. 25: Many models</a><ul>
<li class="chapter" data-level="29.1" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#gapminder"><i class="fa fa-check"></i><b>29.1</b> 25.2: gapminder</a><ul>
<li class="chapter" data-level="29.1.1" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#section-88"><i class="fa fa-check"></i><b>29.1.1</b> 25.2.5</a></li>
</ul></li>
<li class="chapter" data-level="29.2" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#creating-list-columns"><i class="fa fa-check"></i><b>29.2</b> 25.4: Creating list-columns</a><ul>
<li class="chapter" data-level="29.2.1" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#section-89"><i class="fa fa-check"></i><b>29.2.1</b> 25.4.5</a></li>
</ul></li>
<li class="chapter" data-level="29.3" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#simplifying-list-columns"><i class="fa fa-check"></i><b>29.3</b> 25.5: Simplifying list-columns</a><ul>
<li class="chapter" data-level="29.3.1" data-path="ch-25-many-models.html"><a href="ch-25-many-models.html#section-90"><i class="fa fa-check"></i><b>29.3.1</b> 25.5.3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="30" data-path="appendix-10.html"><a href="appendix-10.html"><i class="fa fa-check"></i><b>30</b> Appendix</a><ul>
<li class="chapter" data-level="30.1" data-path="appendix-10.html"><a href="appendix-10.html#models-in-lists"><i class="fa fa-check"></i><b>30.1</b> models in lists</a></li>
<li class="chapter" data-level="30.2" data-path="appendix-10.html"><a href="appendix-10.html#list-columns-for-sampling"><i class="fa fa-check"></i><b>30.2</b> list-columns for sampling</a></li>
<li class="chapter" data-level="30.3" data-path="appendix-10.html"><a href="appendix-10.html#section-91"><i class="fa fa-check"></i><b>30.3</b> 25.2.5.1</a><ul>
<li class="chapter" data-level="30.3.1" data-path="appendix-10.html"><a href="appendix-10.html#include-cubic-term"><i class="fa fa-check"></i><b>30.3.1</b> Include cubic term</a></li>
</ul></li>
<li class="chapter" data-level="30.4" data-path="appendix-10.html"><a href="appendix-10.html#multiple-graphs-in-chunk"><i class="fa fa-check"></i><b>30.4</b> Multiple graphs in chunk</a></li>
<li class="chapter" data-level="30.5" data-path="appendix-10.html"><a href="appendix-10.html#listquantile-examples"><i class="fa fa-check"></i><b>30.5</b> list(quantile()) examples</a></li>
<li class="chapter" data-level="30.6" data-path="appendix-10.html"><a href="appendix-10.html#extracting-row-names"><i class="fa fa-check"></i><b>30.6</b> extracting row names</a></li>
<li class="chapter" data-level="30.7" data-path="appendix-10.html"><a href="appendix-10.html#invoke_map-example-book"><i class="fa fa-check"></i><b>30.7</b> <code>invoke_map</code> example (book)</a></li>
<li class="chapter" data-level="30.8" data-path="appendix-10.html"><a href="appendix-10.html#named-list-example-book"><i class="fa fa-check"></i><b>30.8</b> named list example (book)</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html"><i class="fa fa-check"></i><b>31</b> ch. 27: R Markdown</a><ul>
<li class="chapter" data-level="31.1" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#r-markdown-basics"><i class="fa fa-check"></i><b>31.1</b> 27.2 R Markdown basics</a><ul>
<li class="chapter" data-level="31.1.1" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#section-92"><i class="fa fa-check"></i><b>31.1.1</b> 27.2.1</a></li>
</ul></li>
<li class="chapter" data-level="31.2" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#text-formatting-with-markdown"><i class="fa fa-check"></i><b>31.2</b> 27.3: Text formatting with Markdown</a><ul>
<li class="chapter" data-level="31.2.1" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#section-93"><i class="fa fa-check"></i><b>31.2.1</b> 27.3.1</a></li>
</ul></li>
<li class="chapter" data-level="31.3" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#cv-of-bryan-shalloway"><i class="fa fa-check"></i><b>31.3</b> <strong>CV of Bryan Shalloway</strong></a></li>
<li class="chapter" data-level="31.4" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#experience"><i class="fa fa-check"></i><b>31.4</b> Experience</a></li>
<li class="chapter" data-level="31.5" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#education"><i class="fa fa-check"></i><b>31.5</b> Education</a></li>
<li class="chapter" data-level="31.6" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#code-chunks"><i class="fa fa-check"></i><b>31.6</b> 27.4: Code chunks</a><ul>
<li class="chapter" data-level="31.6.1" data-path="ch-27-r-markdown.html"><a href="ch-27-r-markdown.html#section-94"><i class="fa fa-check"></i><b>31.6.1</b> 27.4.7</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="32" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html"><i class="fa fa-check"></i><b>32</b> ch. 28: Graphics for communication</a><ul>
<li class="chapter" data-level="32.1" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#label"><i class="fa fa-check"></i><b>32.1</b> 28.2: Label</a><ul>
<li class="chapter" data-level="32.1.1" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#section-95"><i class="fa fa-check"></i><b>32.1.1</b> 28.2.1</a></li>
</ul></li>
<li class="chapter" data-level="32.2" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>32.2</b> 28.3: Annotations</a><ul>
<li class="chapter" data-level="32.2.1" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#section-96"><i class="fa fa-check"></i><b>32.2.1</b> 28.3.1</a></li>
</ul></li>
<li class="chapter" data-level="32.3" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>32.3</b> 28.4: Scales</a><ul>
<li class="chapter" data-level="32.3.1" data-path="ch-28-graphics-for-communication.html"><a href="ch-28-graphics-for-communication.html#section-97"><i class="fa fa-check"></i><b>32.3.1</b> 28.4.4</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Another set of solutions and notes to ‘R for Data Science’</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ch.-19-functions" class="section level1">
<h1><span class="header-section-number">Chapter 19</span> ch. 19: Functions</h1>
<ul>
<li><code>function_name &lt;- function(input1, input2) {}</code></li>
<li><code>if () {}</code></li>
<li><code>else if () {}</code></li>
<li><code>else {}</code></li>
<li><code>||</code> (or) , <code>&amp;&amp;</code> (and) – used to combine multiple logical expressions</li>
<li><code>|</code> and <code>&amp;</code> are vectorized operations not to be used with <code>if</code> statements</li>
<li><code>any</code> checks if any values in vector are <code>TRUE</code></li>
<li><code>all</code> checks if all values in vector are <code>TRUE</code></li>
<li><code>identical</code> strict check for if values are the same</li>
<li><code>dplyr::near</code> for more lenient comparison and typically better than <code>identical</code> as unaffected by floating point numbers and fine with different types</li>
<li><code>switch</code> evaluate selected code based on position or name (good for replacing long chain of <code>if</code> statements). e.g. </li>
</ul>
<div class="sourceCode" id="cb851"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb851-1" title="1">Operation_Times2 &lt;-<span class="st"> </span><span class="cf">function</span>(x, y, op){</a>
<a class="sourceLine" id="cb851-2" title="2">   first_op &lt;-<span class="st"> </span><span class="cf">switch</span>(op,</a>
<a class="sourceLine" id="cb851-3" title="3">     <span class="dt">plus =</span> x <span class="op">+</span><span class="st"> </span>y,</a>
<a class="sourceLine" id="cb851-4" title="4">     <span class="dt">minus =</span> x <span class="op">-</span><span class="st"> </span>y,</a>
<a class="sourceLine" id="cb851-5" title="5">     <span class="dt">times =</span> x <span class="op">*</span><span class="st"> </span>y,</a>
<a class="sourceLine" id="cb851-6" title="6">     <span class="dt">divide =</span> x <span class="op">/</span><span class="st"> </span>y,</a>
<a class="sourceLine" id="cb851-7" title="7">     <span class="kw">stop</span>(<span class="st">&quot;Unknown op!&quot;</span>)</a>
<a class="sourceLine" id="cb851-8" title="8">   )</a>
<a class="sourceLine" id="cb851-9" title="9">   </a>
<a class="sourceLine" id="cb851-10" title="10">   first_op <span class="op">*</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb851-11" title="11">  }</a>
<a class="sourceLine" id="cb851-12" title="12"></a>
<a class="sourceLine" id="cb851-13" title="13"><span class="kw">Operation_Times2</span>(<span class="dv">5</span>, <span class="dv">7</span>, <span class="st">&quot;plus&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 24</code></pre>
<ul>
<li><code>stop</code> stops expression and executes error action, note that <code>.call</code> default is <code>FALSE</code></li>
<li><code>warning</code> generates a warning that corresponds with arguments, <code>suppressWarnings</code> may also be useful to no</li>
<li><code>stopifnot</code> test multiple args and will produce error message if any are not true – compromise that prevents you from tedious work of putting multiple <code>if(){} else stop()</code> statements</li>
<li><code>...</code> useful catch-all if your function primarily wraps another function (note that misspelled arguments will not raise an error), e.g. </li>
</ul>
<div class="sourceCode" id="cb853"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb853-1" title="1">commas &lt;-<span class="st"> </span><span class="cf">function</span>(...) stringr<span class="op">::</span><span class="kw">str_c</span>(..., <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>)</a>
<a class="sourceLine" id="cb853-2" title="2"><span class="kw">commas</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])</a></code></pre></div>
<pre><code>## [1] &quot;a, b, c, d, e, f, g, h, i, j&quot;</code></pre>
<ul>
<li><code>cut</code> can be used to discretize continuous variables (also saves long <code>if</code> statements)</li>
<li><code>return</code> allows you to return the function early, typically reserve use for when the function can return early with a simpler function</li>
<li><code>cat</code> function to print label in output</li>
<li><code>invisible</code> input does not get printed out</li>
</ul>
<div id="when-should-you-write-a-function" class="section level2">
<h2><span class="header-section-number">19.1</span> 19.2: When should you write a function?</h2>
<div id="section-62" class="section level3">
<h3><span class="header-section-number">19.1.1</span> 19.2.1</h3>
<ol style="list-style-type: decimal">
<li><p>Why is <code>TRUE</code> not a parameter to <code>rescale01()</code>? What would happen if
<code>x</code> contained a single missing value, and <code>na.rm</code> was <code>FALSE</code>?</p>
<ul>
<li><code>TRUE</code> doesn’t change between uses.</li>
<li>The output would be <code>NA</code></li>
</ul></li>
<li><p>In the second variant of <code>rescale01()</code>, infinite values are left
unchanged. Rewrite <code>rescale01()</code> so that <code>-Inf</code> is mapped to 0, and
<code>Inf</code> is mapped to 1.</p>
<div class="sourceCode" id="cb855"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb855-1" title="1">rescale01_inf &lt;-<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb855-2" title="2"></a>
<a class="sourceLine" id="cb855-3" title="3">  rng &lt;-<span class="st"> </span><span class="kw">range</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>, <span class="dt">finite =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb855-4" title="4">  x_scaled &lt;-<span class="st"> </span>(x <span class="op">-</span><span class="st"> </span>rng[<span class="dv">1</span>]) <span class="op">/</span><span class="st"> </span>(rng[<span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>rng[<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb855-5" title="5">  is_inf &lt;-<span class="st"> </span><span class="kw">is.infinite</span>(x)</a>
<a class="sourceLine" id="cb855-6" title="6">  is_less0 &lt;-<span class="st"> </span>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb855-7" title="7">  x_scaled[is_inf <span class="op">&amp;</span><span class="st"> </span>is_less0] &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb855-8" title="8">  x_scaled[is_inf <span class="op">&amp;</span><span class="st"> </span>(<span class="op">!</span>is_less0)] &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb855-9" title="9">  x_scaled</a>
<a class="sourceLine" id="cb855-10" title="10">}</a>
<a class="sourceLine" id="cb855-11" title="11"></a>
<a class="sourceLine" id="cb855-12" title="12">x &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="ot">Inf</span>, <span class="op">-</span><span class="ot">Inf</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">-5</span>)</a>
<a class="sourceLine" id="cb855-13" title="13"><span class="kw">rescale01_inf</span>(x)</a></code></pre></div>
<pre><code>## [1] 1.000 0.000 0.625 1.000 0.000</code></pre></li>
<li><p>Practice turning the following code snippets into functions. Think about
what each function does. What would you call it? How many arguments does it
need? Can you rewrite it to be more expressive or less duplicative?</p>
<div class="sourceCode" id="cb857"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb857-1" title="1"><span class="kw">mean</span>(<span class="kw">is.na</span>(x))</a>
<a class="sourceLine" id="cb857-2" title="2"></a>
<a class="sourceLine" id="cb857-3" title="3">x <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb857-4" title="4"></a>
<a class="sourceLine" id="cb857-5" title="5"><span class="kw">sd</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">/</span><span class="st"> </span><span class="kw">mean</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<ul>
<li>See solutions below:</li>
</ul>
<div class="sourceCode" id="cb858"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb858-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="ot">NA</span>, <span class="dv">3</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb858-2" title="2"></a>
<a class="sourceLine" id="cb858-3" title="3"><span class="co">#mean(is.na(x))</span></a>
<a class="sourceLine" id="cb858-4" title="4">perc_na &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb858-5" title="5">  <span class="kw">is.na</span>(x) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mean</span>()</a>
<a class="sourceLine" id="cb858-6" title="6">}</a>
<a class="sourceLine" id="cb858-7" title="7"></a>
<a class="sourceLine" id="cb858-8" title="8"><span class="kw">perc_na</span>(x)</a></code></pre></div>
<pre><code>## [1] 0.2857143</code></pre>
<div class="sourceCode" id="cb860"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb860-1" title="1"><span class="co">#x / sum(x, na.rm = TRUE)</span></a>
<a class="sourceLine" id="cb860-2" title="2">prop_weighted &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb860-3" title="3">  x <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb860-4" title="4">}</a>
<a class="sourceLine" id="cb860-5" title="5"><span class="kw">prop_weighted</span>(x)</a></code></pre></div>
<pre><code>## [1] 0.1 0.4 0.2 0.0  NA 0.3  NA</code></pre>
<div class="sourceCode" id="cb862"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb862-1" title="1"><span class="co">#sd(x, na.rm = TRUE) / mean(x, na.rm = TRUE)</span></a>
<a class="sourceLine" id="cb862-2" title="2">CoefficientOfVariation &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb862-3" title="3">  <span class="kw">sd</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">/</span><span class="st"> </span><span class="kw">mean</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb862-4" title="4">}</a>
<a class="sourceLine" id="cb862-5" title="5"></a>
<a class="sourceLine" id="cb862-6" title="6"><span class="kw">CoefficientOfVariation</span>(x)</a></code></pre></div>
<pre><code>## [1] 0.7905694</code></pre></li>
<li><p>Follow <a href="http://nicercode.github.io/intro/writing-functions.html" class="uri">http://nicercode.github.io/intro/writing-functions.html</a> to
write your own functions to compute the variance and skew of a numeric
vector.</p>
<ul>
<li>Re-do below to write measures for skew and variance (e.g. kurtosis, etc.)</li>
</ul>
<div class="sourceCode" id="cb864"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb864-1" title="1">var_bry &lt;-<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb864-2" title="2">  <span class="kw">sum</span>((x <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(x)) <span class="op">^</span><span class="st"> </span><span class="dv">2</span>) <span class="op">/</span><span class="st"> </span>(<span class="kw">length</span>(x) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb864-3" title="3">}</a>
<a class="sourceLine" id="cb864-4" title="4"></a>
<a class="sourceLine" id="cb864-5" title="5">skewness_bry &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb864-6" title="6">  <span class="kw">mean</span>((x <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(x)) <span class="op">^</span><span class="st"> </span><span class="dv">3</span>) <span class="op">/</span><span class="st"> </span><span class="kw">var_bry</span>(x) <span class="op">^</span><span class="st"> </span>(<span class="dv">3</span> <span class="op">/</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb864-7" title="7">}</a></code></pre></div>
<p>Let’s create some samples of distributions – normal, t (with 7 degrees of freedom), unifrom, poisson (with lambda of 2).</p>
<p>Note that an example with a cauchy distribution and looking at difference in kurtosis between that and a normal distribution has been moved to the <a href="appendix-10.html#appendix-10">Appendix</a> section <a href="appendix-5.html#section-66">19.2.1.4</a>.</p>
<div class="sourceCode" id="cb865"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb865-1" title="1">nd &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">10000</span>)</a>
<a class="sourceLine" id="cb865-2" title="2">td_df7 &lt;-<span class="st"> </span><span class="kw">rt</span>(<span class="dv">10000</span>, <span class="dt">df =</span> <span class="dv">7</span>)</a>
<a class="sourceLine" id="cb865-3" title="3">ud &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">10000</span>)</a>
<a class="sourceLine" id="cb865-4" title="4">pd_l2 &lt;-<span class="st"> </span><span class="kw">rpois</span>(<span class="dv">10000</span>, <span class="dv">2</span>)</a></code></pre></div>
<p>Verify that these functions match with established functions</p>
<div class="sourceCode" id="cb866"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb866-1" title="1">dplyr<span class="op">::</span><span class="kw">near</span>(<span class="kw">skewness_bry</span>(pd_l2), e1071<span class="op">::</span><span class="kw">skewness</span>(pd_l2, <span class="dt">type =</span> <span class="dv">3</span>))</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb868"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb868-1" title="1">dplyr<span class="op">::</span><span class="kw">near</span>(<span class="kw">var_bry</span>(pd_l2), <span class="kw">var</span>(pd_l2))</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Let’s look at the distributions as well as their variance an skewness</p>
<div class="sourceCode" id="cb870"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb870-1" title="1">distributions_df &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">normal_dist =</span> nd,</a>
<a class="sourceLine" id="cb870-2" title="2">       <span class="dt">t_7df_dist =</span> td_df7,</a>
<a class="sourceLine" id="cb870-3" title="3">       <span class="dt">uniform_dist =</span> ud,</a>
<a class="sourceLine" id="cb870-4" title="4">       <span class="dt">poisson_dist =</span> pd_l2)</a>
<a class="sourceLine" id="cb870-5" title="5"></a>
<a class="sourceLine" id="cb870-6" title="6">distributions_df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb870-7" title="7"><span class="st">  </span><span class="kw">gather</span>(normal_dist<span class="op">:</span>poisson_dist, <span class="dt">value =</span> <span class="st">&quot;sample&quot;</span>, <span class="dt">key =</span> <span class="st">&quot;dist_type&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb870-8" title="8"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">dist_type =</span> <span class="kw">factor</span>(forcats<span class="op">::</span><span class="kw">fct_inorder</span>(dist_type))) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb870-9" title="9"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> sample))<span class="op">+</span></a>
<a class="sourceLine" id="cb870-10" title="10"><span class="st">  </span><span class="kw">geom_histogram</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb870-11" title="11"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>dist_type, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>)</a></code></pre></div>
<p><img src="19-functions_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<div class="sourceCode" id="cb871"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb871-1" title="1"><span class="kw">tibble</span>(<span class="dt">dist_type =</span> <span class="kw">names</span>(distributions_df),</a>
<a class="sourceLine" id="cb871-2" title="2"><span class="dt">skewness =</span> purrr<span class="op">::</span><span class="kw">map_dbl</span>(distributions_df, skewness_bry), </a>
<a class="sourceLine" id="cb871-3" title="3"><span class="dt">variance =</span> purrr<span class="op">::</span><span class="kw">map_dbl</span>(distributions_df, var_bry))</a></code></pre></div>
<pre><code>## # A tibble: 4 x 3
##   dist_type    skewness variance
##   &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt;
## 1 normal_dist   0.0178    1.01  
## 2 t_7df_dist    0.0345    1.39  
## 3 uniform_dist -0.00117   0.0827
## 4 poisson_dist  0.744     2.00</code></pre>
<ul>
<li>excellent video explaining intuition behind skewness: <a href="https://www.youtube.com/watch?v=z3XaFUP1rAM" class="uri">https://www.youtube.com/watch?v=z3XaFUP1rAM</a></li>
</ul></li>
<li><p>Write <code>both_na()</code>, a function that takes two vectors of the same length
and returns the number of positions that have an <code>NA</code> in both vectors.</p>
<div class="sourceCode" id="cb873"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb873-1" title="1">both_na &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb873-2" title="2">  <span class="cf">if</span> (<span class="kw">length</span>(x) <span class="op">==</span><span class="st"> </span><span class="kw">length</span>(y)) {</a>
<a class="sourceLine" id="cb873-3" title="3">  <span class="kw">sum</span>(<span class="kw">is.na</span>(x) <span class="op">&amp;</span><span class="st"> </span><span class="kw">is.na</span>(y))</a>
<a class="sourceLine" id="cb873-4" title="4">  } <span class="cf">else</span></a>
<a class="sourceLine" id="cb873-5" title="5">  <span class="kw">stop</span>(<span class="st">&quot;Vectors are not equal length&quot;</span>)</a>
<a class="sourceLine" id="cb873-6" title="6">}</a>
<a class="sourceLine" id="cb873-7" title="7"></a>
<a class="sourceLine" id="cb873-8" title="8">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="ot">NA</span>, <span class="dv">7</span>, <span class="ot">NA</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb873-9" title="9">y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>, <span class="ot">NA</span>, <span class="dv">5</span>, <span class="ot">NA</span>, <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb873-10" title="10">z &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb873-11" title="11"></a>
<a class="sourceLine" id="cb873-12" title="12"><span class="kw">both_na</span>(x, y)</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb875"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb875-1" title="1"><span class="kw">both_na</span>(x, z)</a></code></pre></div>
<pre><code>## Error in both_na(x, z): Vectors are not equal length</code></pre></li>
<li><p>What do the following functions do? Why are they useful even though they
are so short?</p>
<div class="sourceCode" id="cb877"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb877-1" title="1">is_directory &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">file.info</span>(x)<span class="op">$</span>isdir</a>
<a class="sourceLine" id="cb877-2" title="2">is_readable &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">file.access</span>(x, <span class="dv">4</span>) <span class="op">==</span><span class="st"> </span><span class="dv">0</span></a></code></pre></div>
<ul>
<li>first checks if what is being referred to is actually a directory</li>
<li>second checks if a specific file is readable</li>
</ul></li>
<li><p>Read the <a href="https://en.wikipedia.org/wiki/Little_Bunny_Foo_Foo">complete lyrics</a>
to “Little Bunny Foo Foo”. There’s a lot of duplication in this song.
Extend the initial piping example to recreate the complete song, and use
functions to reduce the duplication.</p>
<ul>
<li>Do later…</li>
</ul></li>
</ol>
</div>
</div>
<div id="functions-are-for-humans-and-computers" class="section level2">
<h2><span class="header-section-number">19.2</span> 19.3: Functions are for humans and computers</h2>
<ul>
<li>Recommends snake_case over camelCase, but just choose one and be consistent</li>
<li>When functions have a link, common prefix over suffix (i.e. input_select, input_text over, select_input, text_input)</li>
<li>ctrl + shift + r creates section breaks in R scripts like below<br />
<code># test label --------------------------------------------------------------</code>
<ul>
<li>(though these cannot be made in markdown documents)</li>
</ul></li>
</ul>
<div id="section-63" class="section level3">
<h3><span class="header-section-number">19.2.1</span> 19.3.1</h3>
<ol style="list-style-type: decimal">
<li><p>Read the source code for each of the following three functions, puzzle out
what they do, and then brainstorm better names.</p>
<div class="sourceCode" id="cb878"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb878-1" title="1">f1 &lt;-<span class="st"> </span><span class="cf">function</span>(string, prefix) {</a>
<a class="sourceLine" id="cb878-2" title="2">  <span class="kw">substr</span>(string, <span class="dv">1</span>, <span class="kw">nchar</span>(prefix)) <span class="op">==</span><span class="st"> </span>prefix</a>
<a class="sourceLine" id="cb878-3" title="3">}</a>
<a class="sourceLine" id="cb878-4" title="4">f2 &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb878-5" title="5">  <span class="cf">if</span> (<span class="kw">length</span>(x) <span class="op">&lt;=</span><span class="st"> </span><span class="dv">1</span>) <span class="kw">return</span>(<span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb878-6" title="6">  x[<span class="op">-</span><span class="kw">length</span>(x)]</a>
<a class="sourceLine" id="cb878-7" title="7">}</a>
<a class="sourceLine" id="cb878-8" title="8">f3 &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb878-9" title="9">  <span class="kw">rep</span>(y, <span class="dt">length.out =</span> <span class="kw">length</span>(x))</a>
<a class="sourceLine" id="cb878-10" title="10">}</a></code></pre></div>
<ul>
<li><code>f1</code>: <code>check_prefix</code></li>
<li><code>f2</code>: <code>return_not_last</code></li>
<li><code>f3</code>: <code>repeat_for_length</code></li>
</ul></li>
<li><p>Take a function that you’ve written recently and spend 5 minutes
brainstorming a better name for it and its arguments.</p>
<ul>
<li>Do later, consider doing for the airpline fix time functions, or for the CaseAnalysis data</li>
</ul></li>
<li><p>Compare and contrast <code>rnorm()</code> and <code>MASS::mvrnorm()</code>. How could you make
them more consistent?</p>
<ul>
<li>uses mu = and Sigma = instead of mean = and sd = , and has extra parameters like tol, empirical, EISPACK</li>
<li>Similar in that both are pulling samples from gaussian distribution</li>
<li><code>mvrnorm</code> is multivariate though, could change name to <code>rnorm_mv</code></li>
</ul></li>
<li><p>Make a case for why <code>norm_r()</code>, <code>norm_d()</code> etc would be better than
<code>rnorm()</code>, <code>dnorm()</code>. Make a case for the opposite.</p>
<ul>
<li><code>norm_*</code> would show the commonality of them being from the same distribution. One could argue the important commonality though may be more related to it being either a random sample or a density distribution, in which case the <code>r*</code> or <code>d*</code> coming first may make more sense. To me, the fact that the help pages has all of the ‘normal distribution’ functions on the same page suggests the former may make more sense. However, I actually like having it be set-up the way it is, because I am more likely to forget the name of the distribution type I want over the fact that I want a random sample, so it’s easier to type <code>r</code> and then do ctrl + space and have autocomplete help me find the specific distribution I want, e.g. <code>rnorm</code>, <code>runif</code>, <code>rpois</code>, <code>rbinom</code>…</li>
</ul></li>
</ol>
</div>
</div>
<div id="conditional-execution" class="section level2">
<h2><span class="header-section-number">19.3</span> 19.4: Conditional execution</h2>
<ul>
<li>Function example that uses <code>if</code> statement. I though this was a tricky function and added some notes below…</li>
</ul>
<div class="sourceCode" id="cb879"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb879-1" title="1">has_name &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb879-2" title="2">  nms &lt;-<span class="st"> </span><span class="kw">names</span>(x) </a>
<a class="sourceLine" id="cb879-3" title="3">  <span class="cf">if</span> (<span class="kw">is.null</span>(nms)) { </a>
<a class="sourceLine" id="cb879-4" title="4">    <span class="kw">rep</span>(<span class="ot">FALSE</span>, <span class="kw">length</span>(x))</a>
<a class="sourceLine" id="cb879-5" title="5">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb879-6" title="6">    <span class="op">!</span><span class="kw">is.na</span>(nms) <span class="op">&amp;</span><span class="st"> </span>nms <span class="op">!=</span><span class="st"> &quot;&quot;</span></a>
<a class="sourceLine" id="cb879-7" title="7">  }</a>
<a class="sourceLine" id="cb879-8" title="8">}</a></code></pre></div>
<ul>
<li>note that if all names are blank, it returns the one-unit vector value NULL, hence the need for the <code>if</code> statement here…</li>
<li><code>is.null</code> is not vectorized in the way that <code>is.na</code> is – an exmpale of base R not being perfectly consistent. E.g. it’s job is to return <code>TRUE</code> if given a <code>NULL</code> input, if you give it a list of <code>NULL</code> inputs it will return <code>FALSE</code>, e.g. <code>is.null(list(NULL, NULL))</code></li>
</ul>
<div id="section-64" class="section level3">
<h3><span class="header-section-number">19.3.1</span> 19.4.4</h3>
<ol style="list-style-type: decimal">
<li><p>What’s the difference between <code>if</code> and <code>ifelse()</code>? Carefully read the help
and construct three examples that illustrate the key differences.</p>
<ul>
<li><code>ifelse</code> is vectorized, <code>if</code> is not
<ul>
<li>Typically use <code>if</code> in functions when giving conditional options for how to evaluate</li>
<li>Typically use <code>ifelse</code> when changing specific values in a vector</li>
</ul></li>
<li>If you supply <code>if</code> with a vector of length &gt; 1, it will use the first value</li>
</ul>
<div class="sourceCode" id="cb880"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb880-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb880-2" title="2">y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;5&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;9&quot;</span>)</a>
<a class="sourceLine" id="cb880-3" title="3"></a>
<a class="sourceLine" id="cb880-4" title="4"><span class="co"># Use ifelse simple transformations of values like example below</span></a>
<a class="sourceLine" id="cb880-5" title="5"><span class="kw">ifelse</span>(x <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>, <span class="dv">0</span>, x)</a></code></pre></div>
<pre><code>## [1] 0 0 6</code></pre>
<div class="sourceCode" id="cb882"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb882-1" title="1">cutoff_make0 &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">cutoff =</span> <span class="dv">0</span>){</a>
<a class="sourceLine" id="cb882-2" title="2">  <span class="cf">if</span>(<span class="kw">is.numeric</span>(x)){</a>
<a class="sourceLine" id="cb882-3" title="3">    <span class="kw">ifelse</span>(x <span class="op">&lt;</span><span class="st"> </span>cutoff, <span class="dv">0</span>, x)</a>
<a class="sourceLine" id="cb882-4" title="4">  } <span class="cf">else</span> <span class="kw">stop</span>(<span class="st">&quot;The input provided is not a numeric vector&quot;</span>)</a>
<a class="sourceLine" id="cb882-5" title="5">}</a>
<a class="sourceLine" id="cb882-6" title="6"></a>
<a class="sourceLine" id="cb882-7" title="7"><span class="kw">cutoff_make0</span>(x, <span class="dt">cutoff =</span> <span class="dv">4</span>)</a></code></pre></div>
<pre><code>## [1] 0 4 6</code></pre>
<div class="sourceCode" id="cb884"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb884-1" title="1"><span class="kw">cutoff_make0</span>(y, <span class="dt">cutoff =</span> <span class="dv">4</span>)</a></code></pre></div>
<pre><code>## Error in cutoff_make0(y, cutoff = 4): The input provided is not a numeric vector</code></pre></li>
<li><p>Write a greeting function that says “good morning”, “good afternoon”,
or “good evening”, depending on the time of day. (Hint: use a time
argument that defaults to <code>lubridate::now()</code>. That will make it
easier to test your function.)</p>
<div class="sourceCode" id="cb886"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb886-1" title="1">greeting &lt;-<span class="st"> </span><span class="cf">function</span>(when) {</a>
<a class="sourceLine" id="cb886-2" title="2"></a>
<a class="sourceLine" id="cb886-3" title="3">  time &lt;-<span class="st"> </span><span class="kw">hour</span>(when)</a>
<a class="sourceLine" id="cb886-4" title="4"></a>
<a class="sourceLine" id="cb886-5" title="5">  <span class="cf">if</span> (time <span class="op">&lt;</span><span class="st"> </span><span class="dv">12</span> <span class="op">&amp;&amp;</span><span class="st"> </span>time <span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span>) {</a>
<a class="sourceLine" id="cb886-6" title="6">    greating &lt;-<span class="st"> &quot;good morning&quot;</span></a>
<a class="sourceLine" id="cb886-7" title="7">  } <span class="cf">else</span> <span class="cf">if</span> (time <span class="op">&lt;</span><span class="st"> </span><span class="dv">17</span> <span class="op">&amp;&amp;</span><span class="st"> </span>time <span class="op">&gt;=</span><span class="st"> </span><span class="dv">12</span>) {</a>
<a class="sourceLine" id="cb886-8" title="8">    greeting &lt;-<span class="st"> &quot;good afternoon&quot;</span></a>
<a class="sourceLine" id="cb886-9" title="9">  } <span class="cf">else</span> greeting &lt;-<span class="st"> &quot;good evening&quot;</span></a>
<a class="sourceLine" id="cb886-10" title="10"></a>
<a class="sourceLine" id="cb886-11" title="11">  when_char &lt;-<span class="st"> </span><span class="kw">as.character</span>(when)</a>
<a class="sourceLine" id="cb886-12" title="12">  mid &lt;-<span class="st"> &quot;, it is: &quot;</span></a>
<a class="sourceLine" id="cb886-13" title="13">  <span class="kw">cat</span>(greeting, mid, when_char, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb886-14" title="14">}</a>
<a class="sourceLine" id="cb886-15" title="15"></a>
<a class="sourceLine" id="cb886-16" title="16"><span class="kw">greeting</span>(<span class="kw">now</span>())</a></code></pre></div>
<pre><code>## good evening, it is: 2019-05-22 22:05:31</code></pre></li>
<li><p>Implement a <code>fizzbuzz</code> function. It takes a single number as input. If
the number is divisible by three, it returns “fizz”. If it’s divisible by
five it returns “buzz”. If it’s divisible by three and five, it returns
“fizzbuzz”. Otherwise, it returns the number. Make sure you first write
working code before you create the function.</p>
<div class="sourceCode" id="cb888"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb888-1" title="1">fizzbuzz &lt;-<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb888-2" title="2">  <span class="cf">if</span>(<span class="kw">is.numeric</span>(x) <span class="op">&amp;&amp;</span><span class="st"> </span><span class="kw">length</span>(x) <span class="op">==</span><span class="st"> </span><span class="dv">1</span>){</a>
<a class="sourceLine" id="cb888-3" title="3">    y &lt;-<span class="st"> &quot;&quot;</span></a>
<a class="sourceLine" id="cb888-4" title="4">    <span class="cf">if</span> (x <span class="op">%%</span><span class="st"> </span><span class="dv">5</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) y &lt;-<span class="st"> </span><span class="kw">str_c</span>(y, <span class="st">&quot;fizz&quot;</span>)</a>
<a class="sourceLine" id="cb888-5" title="5">    <span class="cf">if</span> (x <span class="op">%%</span><span class="st"> </span><span class="dv">3</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) y &lt;-<span class="st"> </span><span class="kw">str_c</span>(y, <span class="st">&quot;buzz&quot;</span>)</a>
<a class="sourceLine" id="cb888-6" title="6">    <span class="cf">if</span> (<span class="kw">str_length</span>(y) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {</a>
<a class="sourceLine" id="cb888-7" title="7">      <span class="kw">print</span>(x)</a>
<a class="sourceLine" id="cb888-8" title="8">    } <span class="cf">else</span> <span class="kw">print</span>(y)</a>
<a class="sourceLine" id="cb888-9" title="9">  } <span class="cf">else</span> <span class="kw">stop</span>(<span class="st">&quot;Input is not a numeric vector with length 1&quot;</span>)</a>
<a class="sourceLine" id="cb888-10" title="10">}</a>
<a class="sourceLine" id="cb888-11" title="11"></a>
<a class="sourceLine" id="cb888-12" title="12"><span class="kw">fizzbuzz</span>(<span class="dv">4</span>)</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb890"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb890-1" title="1"><span class="kw">fizzbuzz</span>(<span class="dv">10</span>)</a></code></pre></div>
<pre><code>## [1] &quot;fizz&quot;</code></pre>
<div class="sourceCode" id="cb892"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb892-1" title="1"><span class="kw">fizzbuzz</span>(<span class="dv">6</span>)</a></code></pre></div>
<pre><code>## [1] &quot;buzz&quot;</code></pre>
<div class="sourceCode" id="cb894"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb894-1" title="1"><span class="kw">fizzbuzz</span>(<span class="dv">30</span>)</a></code></pre></div>
<pre><code>## [1] &quot;fizzbuzz&quot;</code></pre>
<div class="sourceCode" id="cb896"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb896-1" title="1"><span class="kw">fizzbuzz</span>(<span class="kw">c</span>(<span class="dv">34</span>, <span class="dv">21</span>))</a></code></pre></div>
<pre><code>## Error in fizzbuzz(c(34, 21)): Input is not a numeric vector with length 1</code></pre></li>
<li><p>How could you use <code>cut()</code> to simplify this set of nested if-else statements?</p>
<div class="sourceCode" id="cb898"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb898-1" title="1"><span class="cf">if</span> (temp <span class="op">&lt;=</span><span class="st"> </span><span class="dv">0</span>) {</a>
<a class="sourceLine" id="cb898-2" title="2">  <span class="st">&quot;freezing&quot;</span></a>
<a class="sourceLine" id="cb898-3" title="3">} <span class="cf">else</span> <span class="cf">if</span> (temp <span class="op">&lt;=</span><span class="st"> </span><span class="dv">10</span>) {</a>
<a class="sourceLine" id="cb898-4" title="4">  <span class="st">&quot;cold&quot;</span></a>
<a class="sourceLine" id="cb898-5" title="5">} <span class="cf">else</span> <span class="cf">if</span> (temp <span class="op">&lt;=</span><span class="st"> </span><span class="dv">20</span>) {</a>
<a class="sourceLine" id="cb898-6" title="6">  <span class="st">&quot;cool&quot;</span></a>
<a class="sourceLine" id="cb898-7" title="7">} <span class="cf">else</span> <span class="cf">if</span> (temp <span class="op">&lt;=</span><span class="st"> </span><span class="dv">30</span>) {</a>
<a class="sourceLine" id="cb898-8" title="8">  <span class="st">&quot;warm&quot;</span></a>
<a class="sourceLine" id="cb898-9" title="9">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb898-10" title="10">  <span class="st">&quot;hot&quot;</span></a>
<a class="sourceLine" id="cb898-11" title="11">}</a></code></pre></div>
<ul>
<li>Below is example of fix</li>
</ul>
<div class="sourceCode" id="cb899"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb899-1" title="1">temp &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb899-2" title="2"><span class="kw">cut</span>(temp, </a>
<a class="sourceLine" id="cb899-3" title="3">    <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="op">-</span><span class="ot">Inf</span>, <span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="ot">Inf</span>),  <span class="co">#need to include negative and positive infiniity</span></a>
<a class="sourceLine" id="cb899-4" title="4">    <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;freezing&quot;</span>, <span class="st">&quot;cold&quot;</span>, <span class="st">&quot;cool&quot;</span>, <span class="st">&quot;warm&quot;</span>, <span class="st">&quot;hot&quot;</span>),</a>
<a class="sourceLine" id="cb899-5" title="5">    <span class="dt">right =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb899-6" title="6">    <span class="dt">oredered_result =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>##  [1] freezing freezing freezing cold     cold     cool     cool    
##  [8] warm     warm     hot      hot      hot      hot     
## Levels: freezing cold cool warm hot</code></pre>
<p>How would you change the call to <code>cut()</code> if I’d used <code>&lt;</code> instead of <code>&lt;=</code>?
What is the other chief advantage of <code>cut()</code> for this problem? (Hint:
what happens if you have many values in <code>temp</code>?)</p>
<ul>
<li>See below change to <code>right</code> argument</li>
</ul>
<div class="sourceCode" id="cb901"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb901-1" title="1"><span class="kw">cut</span>(temp, </a>
<a class="sourceLine" id="cb901-2" title="2">    <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="op">-</span><span class="ot">Inf</span>, <span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="ot">Inf</span>),  <span class="co">#need to include negative and positive infiniity</span></a>
<a class="sourceLine" id="cb901-3" title="3">    <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;freezing&quot;</span>, <span class="st">&quot;cold&quot;</span>, <span class="st">&quot;cool&quot;</span>, <span class="st">&quot;warm&quot;</span>, <span class="st">&quot;hot&quot;</span>),</a>
<a class="sourceLine" id="cb901-4" title="4">    <span class="dt">right =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb901-5" title="5">    <span class="dt">oredered_result =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>##  [1] freezing freezing cold     cold     cool     cool     warm    
##  [8] warm     hot      hot      hot      hot      hot     
## Levels: freezing cold cool warm hot</code></pre></li>
<li><p>What happens if you use <code>switch()</code> with numeric values?</p>
<ul>
<li>It will return the index of the argument.
<ul>
<li>In example below, I input ‘3’ into <code>switch</code> value so it does the <code>times</code> argument</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb903"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb903-1" title="1">math_operation &lt;-<span class="st"> </span><span class="cf">function</span>(x, y, op){</a>
<a class="sourceLine" id="cb903-2" title="2">   <span class="cf">switch</span>(op,</a>
<a class="sourceLine" id="cb903-3" title="3">     <span class="dt">plus =</span> x <span class="op">+</span><span class="st"> </span>y,</a>
<a class="sourceLine" id="cb903-4" title="4">     <span class="dt">minus =</span> x <span class="op">-</span><span class="st"> </span>y,</a>
<a class="sourceLine" id="cb903-5" title="5">     <span class="dt">times =</span> x <span class="op">*</span><span class="st"> </span>y,</a>
<a class="sourceLine" id="cb903-6" title="6">     <span class="dt">divide =</span> x <span class="op">/</span><span class="st"> </span>y,</a>
<a class="sourceLine" id="cb903-7" title="7">     <span class="kw">stop</span>(<span class="st">&quot;Unknown op!&quot;</span>)</a>
<a class="sourceLine" id="cb903-8" title="8">   )</a>
<a class="sourceLine" id="cb903-9" title="9">  }</a>
<a class="sourceLine" id="cb903-10" title="10"></a>
<a class="sourceLine" id="cb903-11" title="11"><span class="kw">math_operation</span>(<span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 20</code></pre></li>
<li><p>What does this <code>switch()</code> call do? What happens if <code>x</code> is “e”?</p>
<div class="sourceCode" id="cb905"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb905-1" title="1">x &lt;-<span class="st"> &quot;e&quot;</span></a>
<a class="sourceLine" id="cb905-2" title="2"></a>
<a class="sourceLine" id="cb905-3" title="3"><span class="cf">switch</span>(x, </a>
<a class="sourceLine" id="cb905-4" title="4">  <span class="dt">a =</span> ,</a>
<a class="sourceLine" id="cb905-5" title="5">  <span class="dt">b =</span> <span class="st">&quot;ab&quot;</span>,</a>
<a class="sourceLine" id="cb905-6" title="6">  <span class="dt">c =</span> ,</a>
<a class="sourceLine" id="cb905-7" title="7">  <span class="dt">d =</span> <span class="st">&quot;cd&quot;</span></a>
<a class="sourceLine" id="cb905-8" title="8">)</a></code></pre></div>
<p>Experiment, then carefully read the documentation.</p>
<ul>
<li>If <code>x</code> is ‘e’ nothing will be outputted. If <code>x</code> is ‘c’ or ‘d’ then ‘cd’ is outputted. If ‘a’ or ‘b’ then ‘ab’ is outputeed. If blank it will continue down list until reaching an argument to output.</li>
</ul></li>
</ol>
</div>
</div>
<div id="function-arguments" class="section level2">
<h2><span class="header-section-number">19.4</span> 19.5: Function arguments</h2>
<p><em>Common non-descriptive short argument names: </em></p>
<ul>
<li><code>x</code>, <code>y</code>, <code>z</code>: vectors.</li>
<li><code>w</code>: a vector of weights.</li>
<li><code>df</code>: a data frame.</li>
<li><code>i</code>, <code>j</code>: numeric indices (typically rows and columns).</li>
<li><code>n</code>: length, or number of rows.</li>
<li><code>p</code>: number of columns.</li>
</ul>
<div id="section-65" class="section level3">
<h3><span class="header-section-number">19.4.1</span> 19.5.5</h3>
<ol style="list-style-type: decimal">
<li><p>What does <code>commas(letters, collapse = "-")</code> do? Why?</p>
<ul>
<li><code>commas</code> function is below</li>
</ul>
<div class="sourceCode" id="cb906"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb906-1" title="1">commas &lt;-<span class="st"> </span><span class="cf">function</span>(...) stringr<span class="op">::</span><span class="kw">str_c</span>(..., <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>)</a>
<a class="sourceLine" id="cb906-2" title="2"></a>
<a class="sourceLine" id="cb906-3" title="3"><span class="kw">commas</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])</a></code></pre></div>
<pre><code>## [1] &quot;a, b, c, d, e, f, g, h, i, j&quot;</code></pre>
<div class="sourceCode" id="cb908"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb908-1" title="1"><span class="kw">commas</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>], <span class="dt">collapse =</span> <span class="st">&quot;-&quot;</span>)</a></code></pre></div>
<pre><code>## Error in stringr::str_c(..., collapse = &quot;, &quot;): formal argument &quot;collapse&quot; matched by multiple actual arguments</code></pre>
<ul>
<li><p>The above fails because are essentially specifying two different values for the <code>collapse</code> argument</p></li>
<li>Takes in vector of mulitple strings and outputs one-unit character string with items concatenated together and seperated by columns</li>
<li><p>Is able to do this via use of <code>...</code> that turns this into a wrapper on <code>stringr::str_c</code> with the <code>collapse</code> value specified</p></li>
</ul></li>
<li><p>It’d be nice if you could supply multiple characters to the <code>pad</code> argument,
e.g. <code>rule("Title", pad = "-+")</code>. Why doesn’t this currently work? How
could you fix it?</p>
<ul>
<li>current <code>rule</code> function is below</li>
</ul>
<div class="sourceCode" id="cb910"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb910-1" title="1">rule &lt;-<span class="st"> </span><span class="cf">function</span>(..., <span class="dt">pad =</span> <span class="st">&quot;-&quot;</span>) {</a>
<a class="sourceLine" id="cb910-2" title="2">  title &lt;-<span class="st"> </span><span class="kw">paste0</span>(...)</a>
<a class="sourceLine" id="cb910-3" title="3">  width &lt;-<span class="st"> </span><span class="kw">getOption</span>(<span class="st">&quot;width&quot;</span>) <span class="op">-</span><span class="st"> </span><span class="kw">nchar</span>(title) <span class="op">-</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb910-4" title="4">  <span class="kw">cat</span>(title, <span class="st">&quot; &quot;</span>, stringr<span class="op">::</span><span class="kw">str_dup</span>(pad, width), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb910-5" title="5">}</a>
<a class="sourceLine" id="cb910-6" title="6"></a>
<a class="sourceLine" id="cb910-7" title="7"><span class="co"># Note that `cat` is used instead of `paste` because paste would output it as a character vector, whereas `cat` is focused on just ouptut, could also have used `print`, though print does more conversion than cat does (apparently)</span></a>
<a class="sourceLine" id="cb910-8" title="8"></a>
<a class="sourceLine" id="cb910-9" title="9"><span class="kw">rule</span>(<span class="st">&quot;Tis the season&quot;</span>,<span class="st">&quot; to be jolly&quot;</span>)</a></code></pre></div>
<pre><code>## Tis the season to be jolly --------------------------------------------</code></pre>
<ul>
<li>doesn’t work because pad ends-up being too many characters in this situation</li>
</ul>
<div class="sourceCode" id="cb912"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb912-1" title="1"><span class="kw">rule</span>(<span class="st">&quot;Tis the season&quot;</span>,<span class="st">&quot; to be jolly&quot;</span>, <span class="dt">pad=</span><span class="st">&quot;+-&quot;</span>)</a></code></pre></div>
<pre><code>## Tis the season to be jolly +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-</code></pre>
<ul>
<li>instead would need to make the number of times <code>pad</code> is duplicated dependent on its length, see below for fix</li>
</ul>
<div class="sourceCode" id="cb914"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb914-1" title="1">rule_pad_fix &lt;-<span class="st"> </span><span class="cf">function</span>(..., <span class="dt">pad =</span> <span class="st">&quot;-&quot;</span>) {</a>
<a class="sourceLine" id="cb914-2" title="2">  title &lt;-<span class="st"> </span><span class="kw">paste0</span>(...)</a>
<a class="sourceLine" id="cb914-3" title="3">  width &lt;-<span class="st"> </span><span class="kw">getOption</span>(<span class="st">&quot;width&quot;</span>) <span class="op">-</span><span class="st"> </span><span class="kw">nchar</span>(title) <span class="op">-</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb914-4" title="4">  width_fix &lt;-<span class="st"> </span>width <span class="op">%/%</span><span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_length</span>(pad)</a>
<a class="sourceLine" id="cb914-5" title="5">  <span class="kw">cat</span>(title, <span class="st">&quot; &quot;</span>, stringr<span class="op">::</span><span class="kw">str_dup</span>(pad, width_fix), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb914-6" title="6">}</a>
<a class="sourceLine" id="cb914-7" title="7"></a>
<a class="sourceLine" id="cb914-8" title="8"><span class="kw">rule_pad_fix</span>(<span class="st">&quot;Tis the season&quot;</span>,<span class="st">&quot; to be jolly&quot;</span>, <span class="dt">pad=</span><span class="st">&quot;+-&quot;</span>)</a></code></pre></div>
<pre><code>## Tis the season to be jolly +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-</code></pre></li>
<li><p>What does the <code>trim</code> argument to <code>mean()</code> do? When might you use it?</p>
<ul>
<li><code>trim</code> specifies proportion of data to take off from both ends, good with outliers</li>
</ul>
<div class="sourceCode" id="cb916"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb916-1" title="1"><span class="kw">mean</span>(<span class="kw">c</span>(<span class="op">-</span><span class="dv">1000</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="dv">100000</span>), <span class="dt">trim =</span> <span class="fl">.025</span>) </a></code></pre></div>
<pre><code>## [1] 50.5</code></pre></li>
<li><p>The default value for the <code>method</code> argument to <code>cor()</code> is
<code>c("pearson", "kendall", "spearman")</code>. What does that mean? What
value is used by default?</p>
<ul>
<li>is showing that you can choose from any of these, will default to use <code>pearson</code> (value in first position)</li>
</ul></li>
</ol>
</div>
</div>
<div id="return-values" class="section level2">
<h2><span class="header-section-number">19.5</span> 19.6: Return values</h2>
<div class="sourceCode" id="cb918"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb918-1" title="1">show_missings &lt;-<span class="st"> </span><span class="cf">function</span>(df) {</a>
<a class="sourceLine" id="cb918-2" title="2">  n &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="kw">is.na</span>(df))</a>
<a class="sourceLine" id="cb918-3" title="3">  <span class="kw">cat</span>(<span class="st">&quot;Missing values: &quot;</span>, n, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb918-4" title="4">  <span class="kw">invisible</span>(df)</a>
<a class="sourceLine" id="cb918-5" title="5">}</a>
<a class="sourceLine" id="cb918-6" title="6"></a>
<a class="sourceLine" id="cb918-7" title="7">x &lt;-<span class="st"> </span><span class="kw">show_missings</span>(mtcars)</a></code></pre></div>
<pre><code>## Missing values: 0</code></pre>
<div class="sourceCode" id="cb920"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb920-1" title="1"><span class="kw">str</span>(x)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    32 obs. of  11 variables:
##  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
##  $ disp: num  160 160 108 258 360 ...
##  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
##  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
##  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
##  $ qsec: num  16.5 17 18.6 19.4 17 ...
##  $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
##  $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
##  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
##  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
<ul>
<li>can still use in pipes</li>
</ul>
<div class="sourceCode" id="cb922"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb922-1" title="1">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb922-2" title="2"><span class="st">  </span><span class="kw">show_missings</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb922-3" title="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">mpg =</span> <span class="kw">ifelse</span>(mpg <span class="op">&lt;</span><span class="st"> </span><span class="dv">20</span>, <span class="ot">NA</span>, mpg)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb922-4" title="4"><span class="st">  </span><span class="kw">show_missings</span>() </a></code></pre></div>
<pre><code>## Missing values: 0
## Missing values: 18</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ch-18-pipes-notes-only.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix-5.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
